(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[169],{481:(t,e,n)=>{"use strict";function r(t,e,n=2){let d,p,g;let b=e&&e.length,E=b?e[0]*n:t.length,_=i(t,0,E,n,!0),x=[];if(!_||_.next===_.prev)return x;if(b&&(_=function(t,e,n,r){let u=[];for(let n=0,o=e.length;n<o;n++){let a=e[n]*r,l=n<o-1?e[n+1]*r:t.length,s=i(t,a,l,r,!1);s===s.next&&(s.steiner=!0),u.push(function(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}(s))}u.sort(a);for(let t=0;t<u.length;t++)n=function(t,e){let n=function(t,e){let n,r=e,i=t.x,o=t.y,a=-1/0;if(f(t,r))return r;do{if(f(t,r.next))return r.next;if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let t=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(t<=i&&t>a&&(a=t,n=r.x<r.next.x?r:r.next,t===i))return n}r=r.next}while(r!==e);if(!n)return null;let u=n,s=n.x,h=n.y,d=1/0;r=n;do{if(i>=r.x&&r.x>=s&&i!==r.x&&l(o<h?i:a,o,s,h,o<h?a:i,o,r.x,r.y)){var p,v;let e=Math.abs(o-r.y)/(i-r.x);m(r,t)&&(e<d||e===d&&(r.x>n.x||r.x===n.x&&(p=n,v=r,0>c(p.prev,p,v.prev)&&0>c(v.next,p,p.next))))&&(n=r,d=e)}r=r.next}while(r!==u);return n}(t,e);if(!n)return e;let r=v(n,t);return o(r,r.next),o(n,n.next)}(u[t],n);return n}(t,e,_,n)),t.length>80*n){d=1/0,p=1/0;let e=-1/0,r=-1/0;for(let i=n;i<E;i+=n){let n=t[i],o=t[i+1];n<d&&(d=n),o<p&&(p=o),n>e&&(e=n),o>r&&(r=o)}g=0!==(g=Math.max(e-d,r-p))?32767/g:0}return function t(e,n,r,i,a,l,d){if(!e)return;!d&&l&&function(t,e,n,r){let i=t;do 0===i.z&&(i.z=u(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e;let n=1;do{let r,i=t;t=null;let o=null;for(e=0;i;){e++;let a=i,u=0;for(let t=0;t<n&&(u++,a=a.nextZ);t++);let l=n;for(;u>0||l>0&&a;)0!==u&&(0===l||!a||i.z<=a.z)?(r=i,i=i.nextZ,u--):(r=a,a=a.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=a}o.nextZ=null,n*=2}while(e>1)}(i)}(e,i,a,l);let p=e;for(;e.prev!==e.next;){let g=e.prev,b=e.next;if(l?function(t,e,n,r){let i=t.prev,o=t.next;if(c(i,t,o)>=0)return!1;let a=i.x,l=t.x,f=o.x,h=i.y,d=t.y,p=o.y,m=Math.min(a,l,f),v=Math.min(h,d,p),g=Math.max(a,l,f),y=Math.max(h,d,p),b=u(m,v,e,n,r),E=u(g,y,e,n,r),_=t.prevZ,x=t.nextZ;for(;_&&_.z>=b&&x&&x.z<=E;){if(_.x>=m&&_.x<=g&&_.y>=v&&_.y<=y&&_!==i&&_!==o&&s(a,h,l,d,f,p,_.x,_.y)&&c(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=m&&x.x<=g&&x.y>=v&&x.y<=y&&x!==i&&x!==o&&s(a,h,l,d,f,p,x.x,x.y)&&c(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=b;){if(_.x>=m&&_.x<=g&&_.y>=v&&_.y<=y&&_!==i&&_!==o&&s(a,h,l,d,f,p,_.x,_.y)&&c(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=E;){if(x.x>=m&&x.x<=g&&x.y>=v&&x.y<=y&&x!==i&&x!==o&&s(a,h,l,d,f,p,x.x,x.y)&&c(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}(e,i,a,l):function(t){let e=t.prev,n=t.next;if(c(e,t,n)>=0)return!1;let r=e.x,i=t.x,o=n.x,a=e.y,u=t.y,l=n.y,f=Math.min(r,i,o),h=Math.min(a,u,l),d=Math.max(r,i,o),p=Math.max(a,u,l),m=n.next;for(;m!==e;){if(m.x>=f&&m.x<=d&&m.y>=h&&m.y<=p&&s(r,a,i,u,o,l,m.x,m.y)&&c(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}(e)){n.push(g.i,e.i,b.i),y(e),e=b.next,p=b.next;continue}if((e=b)===p){d?1===d?t(e=function(t,e){let n=t;do{let r=n.prev,i=n.next.next;!f(r,i)&&h(r,n,n.next,i)&&m(r,i)&&m(i,r)&&(e.push(r.i,n.i,i.i),y(n),y(n.next),n=t=i),n=n.next}while(n!==t);return o(n)}(o(e),n),n,r,i,a,l,2):2===d&&function(e,n,r,i,a,u){let l=e;do{let e=l.next.next;for(;e!==l.prev;){var s,d;if(l.i!==e.i&&(s=l,d=e,s.next.i!==d.i&&s.prev.i!==d.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&h(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(s,d)&&(m(s,d)&&m(d,s)&&function(t,e){let n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}(s,d)&&(c(s.prev,s,d.prev)||c(s,d.prev,d))||f(s,d)&&c(s.prev,s,s.next)>0&&c(d.prev,d,d.next)>0))){let s=v(l,e);l=o(l,l.next),s=o(s,s.next),t(l,n,r,i,a,u,0),t(s,n,r,i,a,u,0);return}e=e.next}l=l.next}while(l!==e)}(e,n,r,i,a,l):t(o(e),n,r,i,a,l,1);break}}}(_,x,n,d,p,g,0),x}function i(t,e,n,r,i){let o;if(i===function(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}(t,e,n,r)>0)for(let i=e;i<n;i+=r)o=g(i/r|0,t[i],t[i+1],o);else for(let i=n-r;i>=e;i-=r)o=g(i/r|0,t[i],t[i+1],o);return o&&f(o,o.next)&&(y(o),o=o.next),o}function o(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(f(n,n.next)||0===c(n.prev,n,n.next))){if(y(n),(n=e=n.prev)===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function a(t,e){let n=t.x-e.x;return 0===n&&0==(n=t.y-e.y)&&(n=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)),n}function u(t,e,n,r,i){return(t=((t=((t=((t=((t=(t-n)*i|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)|(e=((e=((e=((e=((e=(e-r)*i|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)<<1}function l(t,e,n,r,i,o,a,u){return(i-a)*(e-u)>=(t-a)*(o-u)&&(t-a)*(r-u)>=(n-a)*(e-u)&&(n-a)*(o-u)>=(i-a)*(r-u)}function s(t,e,n,r,i,o,a,u){return(t!==a||e!==u)&&l(t,e,n,r,i,o,a,u)}function c(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function f(t,e){return t.x===e.x&&t.y===e.y}function h(t,e,n,r){let i=p(c(t,e,n)),o=p(c(t,e,r)),a=p(c(n,r,t)),u=p(c(n,r,e));return!!(i!==o&&a!==u||0===i&&d(t,n,e)||0===o&&d(t,r,e)||0===a&&d(n,t,r)||0===u&&d(n,e,r))}function d(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function p(t){return t>0?1:t<0?-1:0}function m(t,e){return 0>c(t.prev,t,t.next)?c(t,e,t.next)>=0&&c(t,t.prev,e)>=0:0>c(t,e,t.prev)||0>c(t,t.next,e)}function v(t,e){let n=b(t.i,t.x,t.y),r=b(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function g(t,e,n,r){let i=b(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function y(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function b(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}n.d(e,{Ay:()=>r,Bq:()=>E});function E(t){let e=[],n=[],r=t[0][0].length,i=0,o=0;for(let a of t){for(let t of a)for(let n=0;n<r;n++)e.push(t[n]);o&&(i+=o,n.push(i)),o=a.length}return{vertices:e,holes:n,dimensions:r}}},620:(t,e)=>{"use strict";function n(t,e){var n=t.length;for(t.push(e);0<n;){var r=n-1>>>1,i=t[r];if(0<o(i,e))t[r]=e,t[n]=i,n=r;else break}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;for(var r=0,i=t.length,a=i>>>1;r<a;){var u=2*(r+1)-1,l=t[u],s=u+1,c=t[s];if(0>o(l,n))s<i&&0>o(c,l)?(t[r]=c,t[s]=n,r=s):(t[r]=l,t[u]=n,r=u);else if(s<i&&0>o(c,n))t[r]=c,t[s]=n,r=s;else break}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var c=[],f=[],h=1,d=null,p=3,m=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var e=r(f);null!==e;){if(null===e.callback)i(f);else if(e.startTime<=t)i(f),e.sortIndex=e.expirationTime,n(c,e);else break;e=r(f)}}function x(t){if(g=!1,_(t),!v){if(null!==r(c))v=!0,k();else{var e=r(f);null!==e&&F(x,e.startTime-t)}}}var w=!1,S=-1,M=5,A=-1;function P(){return!(e.unstable_now()-A<M)}function j(){if(w){var t=e.unstable_now();A=t;var n=!0;try{t:{v=!1,g&&(g=!1,b(S),S=-1),m=!0;var o=p;try{e:{for(_(t),d=r(c);null!==d&&!(d.expirationTime>t&&P());){var u=d.callback;if("function"==typeof u){d.callback=null,p=d.priorityLevel;var l=u(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,_(t),n=!0;break e}d===r(c)&&i(c),_(t)}else i(c);d=r(c)}if(null!==d)n=!0;else{var s=r(f);null!==s&&F(x,s.startTime-t),n=!1}}break t}finally{d=null,p=o,m=!1}n=void 0}}finally{n?a():w=!1}}}if("function"==typeof E)a=function(){E(j)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=j,a=function(){O.postMessage(null)}}else a=function(){y(j,0)};function k(){w||(w=!0,a())}function F(t,n){S=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,k())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=0x3fffffff;break;case 4:u=1e4;break;default:u=5e3}return u=o+u,t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:u,sortIndex:-1},o>a?(t.sortIndex=o,n(f,t),null===r(c)&&t===r(f)&&(g?(b(S),S=-1):g=!0,F(x,o-a))):(t.sortIndex=u,n(c,t),v||m||(v=!0,k())),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},4682:(t,e,n)=>{"use strict";n.d(e,{q:()=>u});var r=n(32531),i=n(27144);function o(t,e,n){var o=(0,r.A)(t,e-i.Ni,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function a(t,e,n){var o=(0,r.A)(t,e-i.Ni,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function u(){return(function(){var t,e,n,u,l,s,c,f,h,d,p,m,v=10,g=10,y=90,b=360,E=2.5;function _(){return{type:"MultiLineString",coordinates:x()}}function x(){return(0,r.A)((0,i.mk)(u/y)*y,n,y).map(p).concat((0,r.A)((0,i.mk)(f/b)*b,c,b).map(m)).concat((0,r.A)((0,i.mk)(e/v)*v,t,v).filter(function(t){return(0,i.tn)(t%y)>i.Ni}).map(h)).concat((0,r.A)((0,i.mk)(s/g)*g,l,g).filter(function(t){return(0,i.tn)(t%b)>i.Ni}).map(d))}return _.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[p(u).concat(m(c).slice(1),p(n).reverse().slice(1),m(f).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(u=+t[0][0],n=+t[1][0],f=+t[0][1],c=+t[1][1],u>n&&(t=u,u=n,n=t),f>c&&(t=f,f=c,c=t),_.precision(E)):[[u,f],[n,c]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],l=+n[1][1],e>t&&(n=e,e=t,t=n),s>l&&(n=s,s=l,l=n),_.precision(E)):[[e,s],[t,l]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(y=+t[0],b=+t[1],_):[y,b]},_.stepMinor=function(t){return arguments.length?(v=+t[0],g=+t[1],_):[v,g]},_.precision=function(r){return arguments.length?(E=+r,h=o(s,l,90),d=a(e,t,E),p=o(f,c,90),m=a(u,n,E),_):E},_.extentMajor([[-180,-90+i.Ni],[180,90-i.Ni]]).extentMinor([[-180,-80-i.Ni],[180,80+i.Ni]])})()()}},6115:(t,e,n)=>{"use strict";var r=n(12115),i=n(49033),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=i.useSyncExternalStore,u=r.useRef,l=r.useEffect,s=r.useMemo,c=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;var d=a(t,(f=s(function(){function t(t){if(!l){if(l=!0,a=t,t=r(t),void 0!==i&&h.hasValue){var e=h.value;if(i(e,t))return u=e}return u=t}if(e=u,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?(a=t,e):(a=t,u=n)}var a,u,l=!1,s=void 0===n?null:n;return[function(){return t(e())},null===s?void 0:function(){return t(s())}]},[e,n,r,i]))[0],f[1]);return l(function(){h.hasValue=!0,h.value=d},[d]),c(d),d}},10500:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r,i,o,a,u=n(71683),l=n(27144),s=n(88942),c=n(84142),f={sphere:s.A,point:s.A,lineStart:function(){f.point=d,f.lineEnd=h},lineEnd:s.A,polygonStart:s.A,polygonEnd:s.A};function h(){f.point=f.lineEnd=s.A}function d(t,e){t*=l.F2,e*=l.F2,i=t,o=(0,l.F8)(e),a=(0,l.gn)(e),f.point=p}function p(t,e){t*=l.F2,e*=l.F2;var n=(0,l.F8)(e),u=(0,l.gn)(e),s=(0,l.tn)(t-i),c=(0,l.gn)(s),f=u*(0,l.F8)(s),h=a*n-o*u*c,d=o*n+a*u*c;r.add((0,l.FP)((0,l.RZ)(f*f+h*h),d)),i=t,o=n,a=u}var m=[null,null],v={type:"LineString",coordinates:m};function g(t,e){return m[0]=t,m[1]=e,r=new u.ph,(0,c.A)(v,f),+r}},15822:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{A:()=>a});var i=/^\s+/,o=/\s+$/;function a(t,e){if(e=e||{},(t=t||"")instanceof a)return t;if(!(this instanceof a))return new a(t,e);var n,u,l,s,c,f,h,d,p,m,v,g,y,b,E,_,x,S,P,T,k=(u={r:0,g:0,b:0},l=1,s=null,c=null,f=null,h=!1,d=!1,"string"==typeof(n=t)&&(n=function(t){t=t.replace(i,"").replace(o,"").toLowerCase();var e,n=!1;if(w[t])t=w[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=F.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=F.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=F.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=F.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=F.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=F.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=F.hex8.exec(t))?{r:j(e[1]),g:j(e[2]),b:j(e[3]),a:j(e[4])/255,format:n?"name":"hex8"}:(e=F.hex6.exec(t))?{r:j(e[1]),g:j(e[2]),b:j(e[3]),format:n?"name":"hex"}:(e=F.hex4.exec(t))?{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),a:j(e[4]+""+e[4])/255,format:n?"name":"hex8"}:!!(e=F.hex3.exec(t))&&{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),format:n?"name":"hex"}}(n)),"object"==r(n)&&(I(n.r)&&I(n.g)&&I(n.b)?(p=n.r,m=n.g,v=n.b,u={r:255*A(p,255),g:255*A(m,255),b:255*A(v,255)},h=!0,d="%"===String(n.r).substr(-1)?"prgb":"rgb"):I(n.h)&&I(n.s)&&I(n.v)?(s=O(n.s),c=O(n.v),g=n.h,y=s,b=c,g=6*A(g,360),y=A(y,100),b=A(b,100),E=Math.floor(g),_=g-E,x=b*(1-y),S=b*(1-_*y),P=b*(1-(1-_)*y),u={r:255*[b,S,x,x,P,b][T=E%6],g:255*[P,b,b,S,x,x][T],b:255*[x,x,P,b,b,S][T]},h=!0,d="hsv"):I(n.h)&&I(n.s)&&I(n.l)&&(s=O(n.s),f=O(n.l),u=function(t,e,n){var r,i,o;function a(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=A(t,360),e=A(e,100),n=A(n,100),0===e)r=i=o=n;else{var u=n<.5?n*(1+e):n+e-n*e,l=2*n-u;r=a(l,u,t+1/3),i=a(l,u,t),o=a(l,u,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(n.h,s,f),h=!0,d="hsl"),n.hasOwnProperty("a")&&(l=n.a)),l=M(l),{ok:h,format:n.format||d,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:l});this._originalInput=t,this._r=k.r,this._g=k.g,this._b=k.b,this._a=k.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||k.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=k.ok}function u(t,e,n){t=A(t,255);var r,i,o=Math.max(t,e=A(e,255),n=A(n,255)),a=Math.min(t,e,n),u=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=u>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+6*(e<n);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:u}}function l(t,e,n){t=A(t,255);var r,i=Math.max(t,e=A(e,255),n=A(n,255)),o=Math.min(t,e,n),a=i-o;if(i==o)r=0;else{switch(i){case t:r=(e-n)/a+6*(e<n);break;case e:r=(n-t)/a+2;break;case n:r=(t-e)/a+4}r/=6}return{h:r,s:0===i?0:a/i,v:i}}function s(t,e,n,r){var i=[T(Math.round(t).toString(16)),T(Math.round(e).toString(16)),T(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function c(t,e,n,r){return[T(k(r)),T(Math.round(t).toString(16)),T(Math.round(e).toString(16)),T(Math.round(n).toString(16))].join("")}function f(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.s-=e/100,n.s=P(n.s),a(n)}function h(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.s+=e/100,n.s=P(n.s),a(n)}function d(t){return a(t).desaturate(100)}function p(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.l+=e/100,n.l=P(n.l),a(n)}function m(t,e){e=0===e?0:e||10;var n=a(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-(e/100*255)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-(e/100*255)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-(e/100*255)))),a(n)}function v(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.l-=e/100,n.l=P(n.l),a(n)}function g(t,e){var n=a(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,a(n)}function y(t){var e=a(t).toHsl();return e.h=(e.h+180)%360,a(e)}function b(t,e){if(isNaN(e)||e<=0)throw Error("Argument to polyad must be a positive number");for(var n=a(t).toHsl(),r=[a(t)],i=360/e,o=1;o<e;o++)r.push(a({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function E(t){var e=a(t).toHsl(),n=e.h;return[a(t),a({h:(n+72)%360,s:e.s,l:e.l}),a({h:(n+216)%360,s:e.s,l:e.l})]}function _(t,e,n){e=e||6,n=n||30;var r=a(t).toHsl(),i=360/n,o=[a(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(a(r));return o}function x(t,e){e=e||6;for(var n=a(t).toHsv(),r=n.h,i=n.s,o=n.v,u=[],l=1/e;e--;)u.push(a({h:r,s:i,v:o})),o=(o+l)%1;return u}a.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,i,o,a=this.toRgb();return t=a.r/255,e=a.g/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*((n=a.b/255)<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=M(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){var e,n,r,i,o,a;return e=this._r,n=this._g,r=this._b,i=this._a,o=t,a=[T(Math.round(e).toString(16)),T(Math.round(n).toString(16)),T(Math.round(r).toString(16)),T(k(i))],o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*A(this._r,255))+"%",g:Math.round(100*A(this._g,255))+"%",b:Math.round(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*A(this._r,255))+"%, "+Math.round(100*A(this._g,255))+"%, "+Math.round(100*A(this._b,255))+"%)":"rgba("+Math.round(100*A(this._r,255))+"%, "+Math.round(100*A(this._g,255))+"%, "+Math.round(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(S[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+c(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=a(t);n="#"+c(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(b,[3])},tetrad:function(){return this._applyCombination(b,[4])}},a.fromRatio=function(t,e){if("object"==r(t)){var n={};for(var i in t)t.hasOwnProperty(i)&&("a"===i?n[i]=t[i]:n[i]=O(t[i]));t=n}return a(t,e)},a.equals=function(t,e){return!!t&&!!e&&a(t).toRgbString()==a(e).toRgbString()},a.random=function(){return a.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},a.mix=function(t,e,n){n=0===n?0:n||50;var r=a(t).toRgb(),i=a(e).toRgb(),o=n/100;return a({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},a.readability=function(t,e){var n=a(t),r=a(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},a.isReadable=function(t,e,n){var r,i,o,u,l,s=a.readability(t,e);switch(l=!1,(i=((r=(r=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),o=(r.size||"small").toLowerCase(),"AA"!==i&&"AAA"!==i&&(i="AA"),"small"!==o&&"large"!==o&&(o="small"),u={level:i,size:o}).level+u.size){case"AAsmall":case"AAAlarge":l=s>=4.5;break;case"AAlarge":l=s>=3;break;case"AAAsmall":l=s>=7}return l},a.mostReadable=function(t,e,n){var r,i,o,u,l=null,s=0;i=(n=n||{}).includeFallbackColors,o=n.level,u=n.size;for(var c=0;c<e.length;c++)(r=a.readability(t,e[c]))>s&&(s=r,l=a(e[c]));return a.isReadable(t,l,{level:o,size:u})||!i?l:(n.includeFallbackColors=!1,a.mostReadable(t,["#fff","#000"],n))};var w=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=a.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(w);function M(t){return(isNaN(t=parseFloat(t))||t<0||t>1)&&(t=1),t}function A(t,e){"string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var n,r,i="string"==typeof(r=t)&&-1!=r.indexOf("%");return(t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),1e-6>Math.abs(t-e))?1:t%e/parseFloat(e)}function P(t){return Math.min(1,Math.max(0,t))}function j(t){return parseInt(t,16)}function T(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}function k(t){return Math.round(255*parseFloat(t)).toString(16)}var F=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:RegExp("rgb"+e),rgba:RegExp("rgba"+n),hsl:RegExp("hsl"+e),hsla:RegExp("hsla"+n),hsv:RegExp("hsv"+e),hsva:RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function I(t){return!!F.CSS_UNIT.exec(t)}},16500:(t,e)=>{"use strict";e.ConcurrentRoot=1,e.ContinuousEventPriority=8,e.DefaultEventPriority=32,e.DiscreteEventPriority=2},19069:(t,e,n)=>{"use strict";n.d(e,{A:()=>nx});var r,i,o,a,u,l,s,c,f,h,d,p,m,v,g,y,b,E,_,x,w,S,M,A,P,j,T,O=n(43264);function k(t){return Array.from(function*(t){for(let e of t)yield*e}(t))}function F(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var I=n(481);let C=(3+8881784197001252e-31)*11102230246251565e-32;function z(t,e,n,r,i){let o,a,u,l;let s=e[0],c=r[0],f=0,h=0;c>s==c>-s?(o=s,s=e[++f]):(o=c,c=r[++h]);let d=0;if(f<t&&h<n)for(c>s==c>-s?(a=s+o,u=o-(a-s),s=e[++f]):(a=c+o,u=o-(a-c),c=r[++h]),o=a,0!==u&&(i[d++]=u);f<t&&h<n;)c>s==c>-s?(l=(a=o+s)-o,u=o-(a-l)+(s-l),s=e[++f]):(l=(a=o+c)-o,u=o-(a-l)+(c-l),c=r[++h]),o=a,0!==u&&(i[d++]=u);for(;f<t;)l=(a=o+s)-o,u=o-(a-l)+(s-l),s=e[++f],o=a,0!==u&&(i[d++]=u);for(;h<n;)l=(a=o+c)-o,u=o-(a-l)+(c-l),c=r[++h],o=a,0!==u&&(i[d++]=u);return(0!==o||0===d)&&(i[d++]=o),d}function R(t){return new Float64Array(t)}let N=(3+17763568394002505e-31)*11102230246251565e-32,L=(2+13322676295501878e-31)*11102230246251565e-32,U=(9+7105427357601002e-30)*11102230246251565e-32*11102230246251565e-32,D=R(4),B=R(8),H=R(12),q=R(16),V=R(4);function W(t,e,n,r,i,o){let a=(e-o)*(n-i),u=(t-i)*(r-o),l=a-u,s=Math.abs(a+u);return Math.abs(l)>=N*s?l:-function(t,e,n,r,i,o,a){let u,l,s,c,f,h,d,p,m,v,g,y,b,E,_,x,w,S;let M=t-i,A=n-i,P=e-o,j=r-o;E=M*j,d=(h=0x8000001*M)-(h-M),p=M-d,m=(h=0x8000001*j)-(h-j),_=p*(v=j-m)-(E-d*m-p*m-d*v),x=P*A,d=(h=0x8000001*P)-(h-P),p=P-d,m=(h=0x8000001*A)-(h-A),g=_-(w=p*(v=A-m)-(x-d*m-p*m-d*v)),f=_-g,D[0]=_-(g+f)+(f-w),f=(y=E+g)-E,g=(b=E-(y-f)+(g-f))-x,f=b-g,D[1]=b-(g+f)+(f-x),f=(S=y+g)-y,D[2]=y-(S-f)+(g-f),D[3]=S;let T=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,D),O=L*a;if(T>=O||-T>=O||(f=t-M,u=t-(M+f)+(f-i),f=n-A,s=n-(A+f)+(f-i),f=e-P,l=e-(P+f)+(f-o),f=r-j,c=r-(j+f)+(f-o),0===u&&0===l&&0===s&&0===c)||(O=U*a+C*Math.abs(T),(T+=M*c+j*u-(P*s+A*l))>=O||-T>=O))return T;E=u*j,d=(h=0x8000001*u)-(h-u),p=u-d,m=(h=0x8000001*j)-(h-j),_=p*(v=j-m)-(E-d*m-p*m-d*v),x=l*A,d=(h=0x8000001*l)-(h-l),p=l-d,m=(h=0x8000001*A)-(h-A),g=_-(w=p*(v=A-m)-(x-d*m-p*m-d*v)),f=_-g,V[0]=_-(g+f)+(f-w),f=(y=E+g)-E,g=(b=E-(y-f)+(g-f))-x,f=b-g,V[1]=b-(g+f)+(f-x),f=(S=y+g)-y,V[2]=y-(S-f)+(g-f),V[3]=S;let k=z(4,D,4,V,B);E=M*c,d=(h=0x8000001*M)-(h-M),p=M-d,m=(h=0x8000001*c)-(h-c),_=p*(v=c-m)-(E-d*m-p*m-d*v),x=P*s,d=(h=0x8000001*P)-(h-P),p=P-d,m=(h=0x8000001*s)-(h-s),g=_-(w=p*(v=s-m)-(x-d*m-p*m-d*v)),f=_-g,V[0]=_-(g+f)+(f-w),f=(y=E+g)-E,g=(b=E-(y-f)+(g-f))-x,f=b-g,V[1]=b-(g+f)+(f-x),f=(S=y+g)-y,V[2]=y-(S-f)+(g-f),V[3]=S;let F=z(k,B,4,V,H);E=u*c,d=(h=0x8000001*u)-(h-u),p=u-d,m=(h=0x8000001*c)-(h-c),_=p*(v=c-m)-(E-d*m-p*m-d*v),x=l*s,d=(h=0x8000001*l)-(h-l),p=l-d,m=(h=0x8000001*s)-(h-s),g=_-(w=p*(v=s-m)-(x-d*m-p*m-d*v)),f=_-g,V[0]=_-(g+f)+(f-w),f=(y=E+g)-E,g=(b=E-(y-f)+(g-f))-x,f=b-g,V[1]=b-(g+f)+(f-x),f=(S=y+g)-y,V[2]=y-(S-f)+(g-f),V[3]=S;let I=z(F,H,4,V,q);return q[I-1]}(t,e,n,r,i,o,s)}R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(8),R(8),R(8);let G=R(4);R(8),R(8),R(8),R(12);let Y=R(192),Z=R(192);function X(t,e,n){t=sum(t,Y,e,n,Z);let r=Y;return Y=Z,Z=r,t}R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(8),R(8),R(8),R(8),R(8),R(8),R(8),R(8),R(8),R(4),R(4),R(4),R(8),R(16),R(16),R(16),R(32),R(32),R(48),R(64);let $=R(1152),K=R(1152);R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(4),R(24),R(24),R(24),R(24),R(24),R(24),R(24),R(24),R(24),R(24),R(1152),R(1152),R(1152),R(1152),R(1152),R(2304),R(2304),R(3456),R(5760);let Q=R(8),J=R(8),tt=R(8),te=R(16),tn=R(24),tr=R(48),ti=R(48),to=R(96),ta=R(192),tu=R(384),tl=R(384),ts=R(384),tc=R(768),tf=R(96),th=R(96),td=R(96);R(1152);let tp=new Uint32Array(512);class tm{static from(t,e=tb,n=tE){let r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){let r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new tm(i)}constructor(t){let e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){let t,e,n;let{coords:r,_hullPrev:i,_hullNext:o,_hullTri:a,_hullHash:u}=this,l=r.length>>1,s=1/0,c=1/0,f=-1/0,h=-1/0;for(let t=0;t<l;t++){let e=r[2*t],n=r[2*t+1];e<s&&(s=e),n<c&&(c=n),e>f&&(f=e),n>h&&(h=n),this._ids[t]=t}let d=(s+f)/2,p=(c+h)/2;for(let e=0,n=1/0;e<l;e++){let i=tv(d,p,r[2*e],r[2*e+1]);i<n&&(t=e,n=i)}let m=r[2*t],v=r[2*t+1];for(let n=0,i=1/0;n<l;n++){if(n===t)continue;let o=tv(m,v,r[2*n],r[2*n+1]);o<i&&o>0&&(e=n,i=o)}let g=r[2*e],y=r[2*e+1],b=1/0;for(let i=0;i<l;i++){if(i===t||i===e)continue;let o=function(t,e,n,r,i,o){let a=n-t,u=r-e,l=i-t,s=o-e,c=a*a+u*u,f=l*l+s*s,h=.5/(a*s-u*l),d=(s*c-u*f)*h,p=(a*f-l*c)*h;return d*d+p*p}(m,v,g,y,r[2*i],r[2*i+1]);o<b&&(n=i,b=o)}let E=r[2*n],_=r[2*n+1];if(b===1/0){for(let t=0;t<l;t++)this._dists[t]=r[2*t]-r[0]||r[2*t+1]-r[1];tg(this._ids,this._dists,0,l-1);let t=new Uint32Array(l),e=0;for(let n=0,r=-1/0;n<l;n++){let i=this._ids[n],o=this._dists[i];o>r&&(t[e++]=i,r=o)}this.hull=t.subarray(0,e),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(0>W(m,v,g,y,E,_)){let t=e,r=g,i=y;e=n,g=E,y=_,n=t,E=r,_=i}let x=function(t,e,n,r,i,o){let a=n-t,u=r-e,l=i-t,s=o-e,c=a*a+u*u,f=l*l+s*s,h=.5/(a*s-u*l);return{x:t+(s*c-u*f)*h,y:e+(a*f-l*c)*h}}(m,v,g,y,E,_);this._cx=x.x,this._cy=x.y;for(let t=0;t<l;t++)this._dists[t]=tv(r[2*t],r[2*t+1],x.x,x.y);tg(this._ids,this._dists,0,l-1),this._hullStart=t;let w=3;o[t]=i[n]=e,o[e]=i[t]=n,o[n]=i[e]=t,a[t]=0,a[e]=1,a[n]=2,u.fill(-1),u[this._hashKey(m,v)]=t,u[this._hashKey(g,y)]=e,u[this._hashKey(E,_)]=n,this.trianglesLen=0,this._addTriangle(t,e,n,-1,-1,-1);for(let l=0,s,c;l<this._ids.length;l++){let f=this._ids[l],h=r[2*f],d=r[2*f+1];if(l>0&&2220446049250313e-31>=Math.abs(h-s)&&2220446049250313e-31>=Math.abs(d-c)||(s=h,c=d,f===t||f===e||f===n))continue;let p=0;for(let t=0,e=this._hashKey(h,d);t<this._hashSize&&(-1===(p=u[(e+t)%this._hashSize])||p===o[p]);t++);let m=p=i[p],v;for(;v=o[m],W(h,d,r[2*m],r[2*m+1],r[2*v],r[2*v+1])>=0;)if((m=v)===p){m=-1;break}if(-1===m)continue;let g=this._addTriangle(m,f,o[m],-1,-1,a[m]);a[f]=this._legalize(g+2),a[m]=g,w++;let y=o[m];for(;v=o[y],0>W(h,d,r[2*y],r[2*y+1],r[2*v],r[2*v+1]);)g=this._addTriangle(y,f,v,a[f],-1,a[y]),a[f]=this._legalize(g+2),o[y]=y,w--,y=v;if(m===p)for(;0>W(h,d,r[2*(v=i[m])],r[2*v+1],r[2*m],r[2*m+1]);)g=this._addTriangle(v,f,m,-1,a[m],a[v]),this._legalize(g+2),a[v]=g,o[m]=m,w--,m=v;this._hullStart=i[f]=m,o[m]=i[y]=f,o[f]=y,u[this._hashKey(h,d)]=f,u[this._hashKey(r[2*m],r[2*m+1])]=m}this.hull=new Uint32Array(w);for(let t=0,e=this._hullStart;t<w;t++)this.hull[t]=e,e=o[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:e,_halfedges:n,coords:r}=this,i=0,o=0;for(;;){let a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=tp[--i];continue}let l=a-a%3,s=u+(t+1)%3,c=l+(a+2)%3,f=e[o],h=e[t],d=e[s],p=e[c];if(function(t,e,n,r,i,o,a,u){let l=t-a,s=e-u,c=n-a,f=r-u,h=i-a,d=o-u,p=c*c+f*f,m=h*h+d*d;return l*(f*m-p*d)-s*(c*m-p*h)+(l*l+s*s)*(c*d-f*h)<0}(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;let r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);let u=l+(a+1)%3;i<tp.length&&(tp[i++]=u)}else{if(0===i)break;t=tp[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){let a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function tv(t,e,n,r){let i=t-n,o=e-r;return i*i+o*o}function tg(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let r=t[i],o=e[r],a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+r>>1,o=n+1,a=r;ty(t,i,o),e[t[n]]>e[t[r]]&&ty(t,n,r),e[t[o]]>e[t[r]]&&ty(t,o,r),e[t[n]]>e[t[o]]&&ty(t,n,o);let u=t[o],l=e[u];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;ty(t,o,a)}t[n+1]=t[a],t[a]=u,r-o+1>=a-n?(tg(t,e,o,r),tg(t,e,n,a-1)):(tg(t,e,n,a-1),tg(t,e,o,r))}}function ty(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function tb(t){return t[0]}function tE(t){return t[1]}var t_,tx,tw,tS,tM,tA=function(t,e,n={}){if(!t)throw Error("point is required");if(!e)throw Error("polygon is required");let r=function(t){if(!t)throw Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return[...t.geometry.coordinates];if("Point"===t.type)return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw Error("coord must be GeoJSON Point or an Array of numbers")}(t),i="Feature"===e.type?e.geometry:e,o=i.type,a=e.bbox,u=i.coordinates;if(a&&!1==(s=r,(c=a)[0]<=s[0]&&c[1]<=s[1]&&c[2]>=s[0]&&c[3]>=s[1]))return!1;"Polygon"===o&&(u=[u]);let l=!1;for(var s,c,f=0;f<u.length;++f){let t=function(t,e){var n,r,i,o,a,u,l,s,c,f=0,h=t[0],d=t[1],p=e.length;for(n=0;n<p;n++){r=0;var m=e[n],v=m.length-1;if((s=m[0])[0]!==m[v][0]&&s[1]!==m[v][1])throw Error("First and last coordinates in a ring must be the same");for(o=s[0]-h,a=s[1]-d;r<v;r++){if(u=(c=m[r+1])[0]-h,l=c[1]-d,0===a&&0===l){if(u<=0&&o>=0||o<=0&&u>=0)return 0}else if(l>=0&&a<=0||l<=0&&a>=0){if(0===(i=W(o,u,a,l,0,0)))return 0;(i>0&&l>0&&a<=0||i<0&&l<=0&&a>0)&&f++}s=c,a=l,o=u}}return f%2!=0}(r,u[f]);if(0===t)return!n.ignoreBoundary;t&&(l=!0)}return l},tP=n(71683),tj=n(27144),tT=n(88942),tO=new tP.ph,tk=new tP.ph,tF={point:tT.A,lineStart:tT.A,lineEnd:tT.A,polygonStart:function(){tO=new tP.ph,tF.lineStart=tI,tF.lineEnd=tC},polygonEnd:function(){var t=+tO;tk.add(t<0?tj.FA+t:t),this.lineStart=this.lineEnd=this.point=tT.A},sphere:function(){tk.add(tj.FA)}};function tI(){tF.point=tz}function tC(){tR(t_,tx)}function tz(t,e){tF.point=tR,t_=t,tx=e,t*=tj.F2,e*=tj.F2,tw=t,tS=(0,tj.gn)(e=e/2+tj.gz),tM=(0,tj.F8)(e)}function tR(t,e){t*=tj.F2,e*=tj.F2,e=e/2+tj.gz;var n=t-tw,r=n>=0?1:-1,i=r*n,o=(0,tj.gn)(e),a=(0,tj.F8)(e),u=tM*a,l=tS*o+u*(0,tj.gn)(i),s=u*r*(0,tj.F8)(i);tO.add((0,tj.FP)(s,l)),tw=t,tS=o,tM=a}function tN(t){return[(0,tj.FP)(t[1],t[0]),(0,tj.qR)(t[2])]}function tL(t){var e=t[0],n=t[1],r=(0,tj.gn)(n);return[r*(0,tj.gn)(e),r*(0,tj.F8)(e),(0,tj.F8)(n)]}function tU(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function tD(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tB(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tH(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function tq(t){var e=(0,tj.RZ)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tV=n(84142),tW={point:tG,lineStart:tZ,lineEnd:tX,polygonStart:function(){tW.point=t$,tW.lineStart=tK,tW.lineEnd=tQ,f=new tP.ph,tF.polygonStart()},polygonEnd:function(){tF.polygonEnd(),tW.point=tG,tW.lineStart=tZ,tW.lineEnd=tX,tO<0?(r=-(o=180),i=-(a=90)):f>tj.Ni?a=90:f<-tj.Ni&&(i=-90),d[0]=r,d[1]=o},sphere:function(){r=-(o=180),i=-(a=90)}};function tG(t,e){h.push(d=[r=t,o=t]),e<i&&(i=e),e>a&&(a=e)}function tY(t,e){var n=tL([t*tj.F2,e*tj.F2]);if(c){var l=tD(c,n),s=tD([l[1],-l[0],0],l);tq(s),s=tN(s);var f,p=t-u,m=p>0?1:-1,v=s[0]*tj.uj*m,g=(0,tj.tn)(p)>180;g^(m*u<v&&v<m*t)?(f=s[1]*tj.uj)>a&&(a=f):g^(m*u<(v=(v+360)%360-180)&&v<m*t)?(f=-s[1]*tj.uj)<i&&(i=f):(e<i&&(i=e),e>a&&(a=e)),g?t<u?tJ(r,t)>tJ(r,o)&&(o=t):tJ(t,o)>tJ(r,o)&&(r=t):o>=r?(t<r&&(r=t),t>o&&(o=t)):t>u?tJ(r,t)>tJ(r,o)&&(o=t):tJ(t,o)>tJ(r,o)&&(r=t)}else h.push(d=[r=t,o=t]);e<i&&(i=e),e>a&&(a=e),c=n,u=t}function tZ(){tW.point=tY}function tX(){d[0]=r,d[1]=o,tW.point=tG,c=null}function t$(t,e){if(c){var n=t-u;f.add((0,tj.tn)(n)>180?n+(n>0?360:-360):n)}else l=t,s=e;tF.point(t,e),tY(t,e)}function tK(){tF.lineStart()}function tQ(){t$(l,s),tF.lineEnd(),(0,tj.tn)(f)>tj.Ni&&(r=-(o=180)),d[0]=r,d[1]=o,c=null}function tJ(t,e){return(e-=t)<0?e+360:e}function t0(t,e){return t[0]-e[0]}function t1(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function t2(t){var e,n,u,l,s,c,f;if(a=o=-(r=i=1/0),h=[],(0,tV.A)(t,tW),n=h.length){for(h.sort(t0),e=1,s=[u=h[0]];e<n;++e)t1(u,(l=h[e])[0])||t1(u,l[1])?(tJ(u[0],l[1])>tJ(u[0],u[1])&&(u[1]=l[1]),tJ(l[0],u[1])>tJ(u[0],u[1])&&(u[0]=l[0])):s.push(u=l);for(c=-1/0,n=s.length-1,e=0,u=s[n];e<=n;u=l,++e)l=s[e],(f=tJ(u[1],l[0]))>c&&(c=f,r=l[0],o=u[1])}return h=d=null,r===1/0||i===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,i],[o,a]]}var t3=n(10500),t5=n(61741);function t4(t){return(0,tj.tn)(t[0])<=tj.pi?t[0]:(0,tj._S)(t[0])*(((0,tj.tn)(t[0])+tj.pi)%tj.FA-tj.pi)}function t8(t,e){var n=t4(e),r=e[1],i=(0,tj.F8)(r),o=[(0,tj.F8)(n),-(0,tj.gn)(n),0],a=0,u=0,l=new tP.ph;1===i?r=tj.TW+tj.Ni:-1===i&&(r=-tj.TW-tj.Ni);for(var s=0,c=t.length;s<c;++s)if(h=(f=t[s]).length)for(var f,h,d=f[h-1],p=t4(d),m=d[1]/2+tj.gz,v=(0,tj.F8)(m),g=(0,tj.gn)(m),y=0;y<h;++y,p=E,v=x,g=w,d=b){var b=f[y],E=t4(b),_=b[1]/2+tj.gz,x=(0,tj.F8)(_),w=(0,tj.gn)(_),S=E-p,M=S>=0?1:-1,A=M*S,P=A>tj.pi,j=v*x;if(l.add((0,tj.FP)(j*M*(0,tj.F8)(A),g*w+j*(0,tj.gn)(A))),a+=P?S+M*tj.FA:S,P^p>=n^E>=n){var T=tD(tL(d),tL(b));tq(T);var O=tD(o,T);tq(O);var k=(P^S>=0?-1:1)*(0,tj.qR)(O[2]);(r>k||r===k&&(T[0]||T[1]))&&(u+=P^S>=0?1:-1)}}return(a<-tj.Ni||a<tj.Ni&&l<-tj.$t)^1&u}var t6={Feature:function(t,e){return t7(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(t7(n[r].geometry,e))return!0;return!1}},t9={Sphere:function(){return!0},Point:function(t,e){return et(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(et(n[r],e))return!0;return!1},LineString:function(t,e){return ee(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ee(n[r],e))return!0;return!1},Polygon:function(t,e){return en(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(en(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(t7(n[r],e))return!0;return!1}};function t7(t,e){return!!(t&&t9.hasOwnProperty(t.type))&&t9[t.type](t,e)}function et(t,e){return 0===(0,t3.A)(t,e)}function ee(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=(0,t3.A)(t[o],e))||o>0&&(i=(0,t3.A)(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<tj.$t*i)return!0;n=r}return!1}function en(t,e){return!!t8(t.map(er),ei(e))}function er(t){return(t=t.map(ei)).pop(),t}function ei(t){return[t[0]*tj.F2,t[1]*tj.F2]}var eo={sphere:tT.A,point:ea,lineStart:el,lineEnd:ef,polygonStart:function(){eo.lineStart=eh,eo.lineEnd=ed},polygonEnd:function(){eo.lineStart=el,eo.lineEnd=ef}};function ea(t,e){t*=tj.F2,e*=tj.F2;var n=(0,tj.gn)(e);eu(n*(0,tj.gn)(t),n*(0,tj.F8)(t),(0,tj.F8)(e))}function eu(t,e,n){++p,v+=(t-v)/p,g+=(e-g)/p,y+=(n-y)/p}function el(){eo.point=es}function es(t,e){t*=tj.F2,e*=tj.F2;var n=(0,tj.gn)(e);P=n*(0,tj.gn)(t),j=n*(0,tj.F8)(t),T=(0,tj.F8)(e),eo.point=ec,eu(P,j,T)}function ec(t,e){t*=tj.F2,e*=tj.F2;var n=(0,tj.gn)(e),r=n*(0,tj.gn)(t),i=n*(0,tj.F8)(t),o=(0,tj.F8)(e),a=(0,tj.FP)((0,tj.RZ)((a=j*o-T*i)*a+(a=T*r-P*o)*a+(a=P*i-j*r)*a),P*r+j*i+T*o);m+=a,b+=a*(P+(P=r)),E+=a*(j+(j=i)),_+=a*(T+(T=o)),eu(P,j,T)}function ef(){eo.point=ea}function eh(){eo.point=ep}function ed(){em(M,A),eo.point=ea}function ep(t,e){M=t,A=e,t*=tj.F2,e*=tj.F2,eo.point=em;var n=(0,tj.gn)(e);P=n*(0,tj.gn)(t),j=n*(0,tj.F8)(t),T=(0,tj.F8)(e),eu(P,j,T)}function em(t,e){t*=tj.F2,e*=tj.F2;var n=(0,tj.gn)(e),r=n*(0,tj.gn)(t),i=n*(0,tj.F8)(t),o=(0,tj.F8)(e),a=j*o-T*i,u=T*r-P*o,l=P*i-j*r,s=(0,tj.dY)(a,u,l),c=(0,tj.qR)(s),f=s&&-c/s;x.add(f*a),w.add(f*u),S.add(f*l),m+=c,b+=c*(P+(P=r)),E+=c*(j+(j=i)),_+=c*(T+(T=o)),eu(P,j,T)}function ev(t){p=m=v=g=y=b=E=_=0,x=new tP.ph,w=new tP.ph,S=new tP.ph,(0,tV.A)(t,eo);var e=+x,n=+w,r=+S,i=(0,tj.dY)(e,n,r);return i<tj.$t&&(e=b,n=E,r=_,m<tj.Ni&&(e=v,n=g,r=y),(i=(0,tj.dY)(e,n,r))<tj.$t)?[NaN,NaN]:[(0,tj.FP)(n,e)*tj.uj,(0,tj.qR)(r/i)*tj.uj]}class eg{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){t*=1,e*=1,n*=1;let r=t+n,i=e;if(n<0)throw Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class ey{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class eb{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r*=1)>=(e*=1))||!((i*=1)>=(n*=1)))throw Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let t,e;let{delaunay:{points:n,hull:r,triangles:i},vectors:o}=this,a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let o=0,u=0,l=i.length,s,c;o<l;o+=3,u+=2){let l=2*i[o],f=2*i[o+1],h=2*i[o+2],d=n[l],p=n[l+1],m=n[f],v=n[f+1],g=n[h],y=n[h+1],b=m-d,E=v-p,_=g-d,x=y-p,w=(b*x-E*_)*2;if(1e-9>Math.abs(w)){if(void 0===t){for(let i of(t=e=0,r))t+=n[2*i],e+=n[2*i+1];t/=r.length,e/=r.length}let i=1e9*Math.sign((t-d)*x-(e-p)*_);s=(d+g)/2-i*x,c=(p+y)/2+i*_}else{let t=1/w,e=b*b+E*E,n=_*_+x*x;s=d+(x*e-E*n)*t,c=p+(b*n-_*e)*t}a[u]=s,a[u+1]=c}let u=r[r.length-1],l,s=4*u,c,f=n[2*u],h,d=n[2*u+1];o.fill(0);for(let t=0;t<r.length;++t)u=r[t],l=s,c=f,h=d,s=4*u,f=n[2*u],d=n[2*u+1],o[l+2]=o[s]=h-d,o[l+3]=o[s+1]=f-c}render(t){let e=null==t?t=new eg:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){let r=n[e];if(r<e)continue;let i=2*Math.floor(e/3),a=2*Math.floor(r/3),u=o[i],l=o[i+1],s=o[a],c=o[a+1];this._renderSegment(u,l,s,c,t)}let u,l=i[i.length-1];for(let e=0;e<i.length;++e){u=l;let n=2*Math.floor(r[l=i[e]]/3),s=o[n],c=o[n+1],f=4*u,h=this._project(s,c,a[f+2],a[f+3]);h&&this._renderSegment(s,c,h[0],h[1],t)}return e&&e.value()}renderBounds(t){let e=null==t?t=new eg:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){let n=null==e?e=new eg:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)(r[t]!==r[t-2]||r[t+1]!==r[t-1])&&e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){let t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){let e=new ey;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;let a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e*=1)==e&&(n*=1)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){let e=this._clip(t);if(e)for(let n of this.delaunay.neighbors(t)){let t=this._clip(n);if(t){n:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+a-2)%a]&&e[(r+3)%i]===t[(o+a-1)%a]){yield n;break n}}}}_cell(t){let{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;let a=[],u=o;do{let n=Math.floor(u/3);if(a.push(e[2*n],e[2*n+1]),i[u=u%3==2?u-2:u+1]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let e=this._cell(t);if(null===e)return null;let{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){let n=e.length,r=null,i,o,a=e[n-2],u=e[n-1],l,s=this._regioncode(a,u),c,f=0;for(let h=0;h<n;h+=2)if(i=a,o=u,a=e[h],u=e[h+1],l=s,s=this._regioncode(a,u),0===l&&0===s)c=f,f=0,r?r.push(a,u):r=[a,u];else{let e,n,h,d,p;if(0===l){if(null===(e=this._clipSegment(i,o,a,u,l,s)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(a,u,i,o,s,l)))continue;[d,p,n,h]=e,c=f,f=this._edgecode(n,h),c&&f&&this._edge(t,c,f,r,r.length),r?r.push(n,h):r=[n,h]}c=f,f=this._edgecode(d,p),c&&f&&this._edge(t,c,f,r,r.length),r?r.push(d,p):r=[d,p]}if(r)c=f,f=this._edgecode(r[0],r[1]),c&&f&&this._edge(t,c,f,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,n,r,i,o){let a=i<o;for(a&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let u,l,s=i||o;8&s?(u=t+(n-t)*(this.ymax-e)/(r-e),l=this.ymax):4&s?(u=t+(n-t)*(this.ymin-e)/(r-e),l=this.ymin):2&s?(l=e+(r-e)*(this.xmax-t)/(n-t),u=this.xmax):(l=e+(r-e)*(this.xmin-t)/(n-t),u=this.xmin),i?(t=u,e=l,i=this._regioncode(t,e)):(n=u,r=l,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a=Array.from(e),u;if((u=this._project(a[0],a[1],n,r))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let e=0,n=a.length,r,i=this._edgecode(a[n-2],a[n-1]);e<n;e+=2)r=i,i=this._edgecode(a[e],a[e+1]),r&&i&&(e=this._edge(t,r,i,a,e),n=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}(r[i]!==n||r[i+1]!==o)&&this.contains(t,n,o)&&(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i=1/0,o,a,u;if(r<0){if(e<=this.ymin)return null;(o=(this.ymin-e)/r)<i&&(u=this.ymin,a=t+(i=o)*n)}else if(r>0){if(e>=this.ymax)return null;(o=(this.ymax-e)/r)<i&&(u=this.ymax,a=t+(i=o)*n)}if(n>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/n)<i&&(a=this.xmax,u=e+(i=o)*r)}else if(n<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/n)<i&&(a=this.xmin,u=e+(i=o)*r)}return[a,u]}_edgecode(t,e){return(t===this.xmin?1:2*(t===this.xmax))|(e===this.ymin?4:8*(e===this.ymax))}_regioncode(t,e){return(t<this.xmin?1:2*(t>this.xmax))|(e<this.ymin?4:8*(e>this.ymax))}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){let n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}let eE=2*Math.PI,e_=Math.pow;function ex(t){return t[0]}function ew(t){return t[1]}class eS{static from(t,e=ex,n=ew,r){return new eS("length"in t?function(t,e,n,r){let i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){let i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(let o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new tm(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){let{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){let r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);let t=this.collinear[0],i=this.collinear[this.collinear.length-1],o=[e[2*t],e[2*t+1],e[2*i],e[2*i+1]],a=1e-8*Math.hypot(o[3]-o[1],o[2]-o[0]);for(let t=0,i=e.length/2;t<i;++t){var n,r;let i=(n=e[2*t],[n+Math.sin(n+(r=e[2*t+1]))*a,r+Math.cos(n-r)*a]);e[2*t]=i[0],e[2*t+1]=i[1]}this._delaunator=new tm(e)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,u=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let t=0,e=i.length;t<e;++t){let e=a[t%3==2?t-2:t+1];(-1===i[t]||-1===u[e])&&(u[e]=t)}for(let t=0,e=o.length;t<e;++t)l[o[t]]=t;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],u[o[0]]=1,2===o.length&&(u[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(t){return new eb(this,t)}*neighbors(t){let{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){let e=a.indexOf(t);e>0&&(yield a[e-1]),e<a.length-1&&(yield a[e+1]);return}let u=e[t];if(-1===u)return;let l=u,s=-1;do{if(yield s=o[l],o[l=l%3==2?l-2:l+1]!==t)return;if(-1===(l=i[l])){let e=n[(r[t]+1)%n.length];e!==s&&(yield e);return}}while(l!==u)}find(t,e,n=0){let r;if((t*=1)!=t||(e*=1)!=e)return -1;let i=n;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){let{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let s=t,c=e_(e-l[2*t],2)+e_(n-l[2*t+1],2),f=r[t],h=f;do{let r=u[h],f=e_(e-l[2*r],2)+e_(n-l[2*r+1],2);if(f<c&&(c=f,s=r),u[h=h%3==2?h-2:h+1]!==t)break;if(-1===(h=a[h])){if((h=i[(o[t]+1)%i.length])!==r&&e_(e-l[2*h],2)+e_(n-l[2*h+1],2)<c)return h;break}}while(h!==f);return s}render(t){let e=null==t?t=new eg:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){let o=r[e];if(o<e)continue;let a=2*i[e],u=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=void 0==e?2:+e;let n=null==t?t=new eg:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){let i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,eE)}return n&&n.value()}renderHull(t){let e=null==t?t=new eg:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){let i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){let t=new ey;return this.renderHull(t),t.value()}renderTriangle(t,e){let n=null==e?e=new eg:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){let e=new ey;return this.renderTriangle(t,e),e.value()}}function eM(t,e){function n(n,r){return e((n=t(n,r))[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function eA(t,e){return(0,tj.tn)(t)>tj.pi&&(t-=Math.round(t/tj.FA)*tj.FA),[t,e]}function eP(t,e,n){return(t%=tj.FA)?e||n?eM(eT(t),eO(e,n)):eT(t):e||n?eO(e,n):eA}function ej(t){return function(e,n){return e+=t,(0,tj.tn)(e)>tj.pi&&(e-=Math.round(e/tj.FA)*tj.FA),[e,n]}}function eT(t){var e=ej(t);return e.invert=ej(-t),e}function eO(t,e){var n=(0,tj.gn)(t),r=(0,tj.F8)(t),i=(0,tj.gn)(e),o=(0,tj.F8)(e);function a(t,e){var a=(0,tj.gn)(e),u=(0,tj.gn)(t)*a,l=(0,tj.F8)(t)*a,s=(0,tj.F8)(e),c=s*n+u*r;return[(0,tj.FP)(l*i-c*o,u*n-s*r),(0,tj.qR)(c*i+l*o)]}return a.invert=function(t,e){var a=(0,tj.gn)(e),u=(0,tj.gn)(t)*a,l=(0,tj.F8)(t)*a,s=(0,tj.F8)(e),c=s*i-l*o;return[(0,tj.FP)(l*i+s*o,u*n+c*r),(0,tj.qR)(c*n-u*r)]},a}function ek(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:tT.A,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function eF(t,e){return(0,tj.tn)(t[0]-e[0])<tj.Ni&&(0,tj.tn)(t[1]-e[1])<tj.Ni}function eI(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function eC(t,e,n,r,i){var o,a,u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(eF(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd();return}a[0]+=2*tj.Ni}u.push(n=new eI(r,t,null,!0)),l.push(n.o=new eI(r,null,n,!1)),u.push(n=new eI(a,t,null,!1)),l.push(n.o=new eI(a,null,n,!0))}}),u.length){for(l.sort(e),ez(u),ez(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var s,c,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((c=s[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(o=(s=h.p.z).length-1;o>=0;--o)i.point((c=s[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function ez(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function eR(t,e,n,r){return function(i){var o,a,u,l=e(i),s=ek(),c=e(s),f=!1,h={point:d,lineStart:m,lineEnd:v,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=v,a=k(a);var t=t8(o,r);a.length?(f||(i.polygonStart(),f=!0),eC(a,eL,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function m(){h.point=p,l.lineStart()}function v(){h.point=d,l.lineEnd()}function g(t,e){u.push([t,e]),c.point(t,e)}function y(){c.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d){if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}return}d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(eN))}}return h}}function eN(t){return t.length>1}function eL(t,e){return((t=t.x)[0]<0?t[1]-tj.TW-tj.Ni:tj.TW-t[1])-((e=e.x)[0]<0?e[1]-tj.TW-tj.Ni:tj.TW-e[1])}eA.invert=eA;let eU=eR(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u,l,s,c,f,h,d,p=o>0?tj.pi:-tj.pi,m=(0,tj.tn)(o-n);(0,tj.tn)(m-tj.pi)<tj.Ni?(t.point(n,r=(r+a)/2>0?tj.TW:-tj.TW),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),t.point(o,r),e=0):i!==p&&m>=tj.pi&&((0,tj.tn)(n-i)<tj.Ni&&(n-=i*tj.Ni),(0,tj.tn)(o-p)<tj.Ni&&(o-=p*tj.Ni),u=n,l=r,s=o,c=a,d=(0,tj.F8)(u-s),r=(0,tj.tn)(d)>tj.Ni?(0,tj.rY)(((0,tj.F8)(l)*(h=(0,tj.gn)(c))*(0,tj.F8)(s)-(0,tj.F8)(c)*(f=(0,tj.gn)(l))*(0,tj.F8)(u))/(f*h*d)):(l+c)/2,t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),e=0),t.point(n=o,r=a),i=p},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*tj.TW,r.point(-tj.pi,i),r.point(0,i),r.point(tj.pi,i),r.point(tj.pi,0),r.point(tj.pi,-i),r.point(0,-i),r.point(-tj.pi,-i),r.point(-tj.pi,0),r.point(-tj.pi,i);else if((0,tj.tn)(t[0]-e[0])>tj.Ni){var o=t[0]<e[0]?tj.pi:-tj.pi;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-tj.pi,-tj.TW]);function eD(t,e){e=tL(e),e[0]-=t,tq(e);var n=(0,tj.HQ)(-e[1]);return((0>-e[2]?-n:n)+tj.FA-tj.Ni)%tj.FA}let eB=t=>t;function eH(t){return function(e){var n=new eq;for(var r in t)n[r]=t[r];return n.stream=e,n}}function eq(){}eq.prototype={constructor:eq,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var eV=1/0,eW=1/0,eG=-1/0,eY=eG,eZ={point:function(t,e){t<eV&&(eV=t),t>eG&&(eG=t),e<eW&&(eW=e),e>eY&&(eY=e)},lineStart:tT.A,lineEnd:tT.A,polygonStart:tT.A,polygonEnd:tT.A,result:function(){var t=[[eV,eW],[eG,eY]];return eG=eY=-(eW=eV=1/0),t}};function eX(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),(0,tV.A)(n,t.stream(eZ)),e(eZ.result()),null!=r&&t.clipExtent(r),t}function e$(t,e,n){return eX(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])},n)}var eK=(0,tj.gn)(30*tj.F2);function eQ(t,e){var n;return+e?function(t,e){function n(r,i,o,a,u,l,s,c,f,h,d,p,m,v){var g=s-r,y=c-i,b=g*g+y*y;if(b>4*e&&m--){var E=a+h,_=u+d,x=l+p,w=(0,tj.RZ)(E*E+_*_+x*x),S=(0,tj.qR)(x/=w),M=(0,tj.tn)((0,tj.tn)(x)-1)<tj.Ni||(0,tj.tn)(o-f)<tj.Ni?(o+f)/2:(0,tj.FP)(_,E),A=t(M,S),P=A[0],j=A[1],T=P-r,O=j-i,k=y*T-g*O;(k*k/b>e||(0,tj.tn)((g*T+y*O)/b-.5)>.3||a*h+u*d+l*p<eK)&&(n(r,i,o,a,u,l,P,j,M,E/=w,_/=w,x,m,v),v.point(P,j),n(P,j,M,E,_,x,s,c,f,h,d,p,m,v))}}return function(e){var r,i,o,a,u,l,s,c,f,h,d,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=E},polygonEnd:function(){e.polygonEnd(),m.lineStart=g}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){c=NaN,m.point=y,e.lineStart()}function y(r,i){var o=tL([r,i]),a=t(r,i);n(c,f,s,h,d,p,c=a[0],f=a[1],s=r,h=o[0],d=o[1],p=o[2],16,e),e.point(c,f)}function b(){m.point=v,e.lineEnd()}function E(){g(),m.point=_,m.lineEnd=x}function _(t,e){y(r=t,e),i=c,o=f,a=h,u=d,l=p,m.point=y}function x(){n(c,f,s,h,d,p,i,o,r,a,u,l,16,e),m.lineEnd=b,b()}return m}}(t,e):(n=t,eH({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}))}var eJ=eH({point:function(t,e){this.stream.point(t*tj.F2,e*tj.F2)}});function e0(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=(0,tj.gn)(o),u=(0,tj.F8)(o),l=a*t,s=u*t,c=a/t,f=u/t,h=(u*n-a*e)/t,d=(u*e+a*n)/t;function p(t,o){return[l*(t*=r)-s*(o*=i)+e,n-s*t-l*o]}return p.invert=function(t,e){return[r*(c*t-f*e+h),i*(d-f*t-c*e)]},p}function e1(t,e){var n=(0,tj.gn)(e),r=1+(0,tj.gn)(t)*n;return[n*(0,tj.F8)(t)/r,(0,tj.F8)(e)/r]}e1.invert=function(t,e){var n,r=(0,tj.RZ)(t*t+e*e),i=(n=r,2*(0,tj.rY)(n)),o=(0,tj.F8)(i),a=(0,tj.gn)(i);return[(0,tj.FP)(t*o,r*a),(0,tj.qR)(r&&e*o/r)]};let e2=Math.PI,e3=e2/2,e5=180/e2,e4=e2/180,e8=Math.atan2,e6=Math.cos,e9=Math.max,e7=Math.min,nt=Math.sin,ne=Math.sign||function(t){return t>0?1:t<0?-1:0},nn=Math.sqrt;function nr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ni(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function no(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function na(t){var e=nn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]}function nu(t){var e;return[e8(t[1],t[0])*e5,((e=e9(-1,e7(1,t[2])))>1?e3:e<-1?-e3:Math.asin(e))*e5]}function nl(t){let e=t[0]*e4,n=t[1]*e4,r=e6(n);return[r*e6(e),r*nt(e),nt(n)]}function ns(t){return nr((t=t.map(t=>nl(t)))[0],ni(t[2],t[1]))}function nc(t,e,n){t=nl(t),e=nl(e),n=nl(n);let r=ne(nr(ni(e,t),n));return nu(na(no(t,e)).map(t=>r*t))}var nf=n(12858);function nh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function np(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(np=function(){return!!t})()}function nm(t,e){return(nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e);else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||ny(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ng(t){return function(t){if(Array.isArray(t))return nh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ny(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ny(t,e){if(t){if("string"==typeof t)return nh(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nh(t,e):void 0}}function nb(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?(e&&t6.hasOwnProperty(e.type)?t6[e.type]:t7)(e,t):tA(t,e)}var nE=window.THREE?window.THREE:{BufferGeometry:O.LoY,Float32BufferAttribute:O.qtW},n_=new nE.BufferGeometry().setAttribute?"setAttribute":"addAttribute",nx=function(t){function e(t,n,r,i,o,a,u){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e),l=nd(l=e),(s=function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,np()?Reflect.construct(l,[],nd(this).constructor):l.apply(this,void 0))).type="ConicPolygonGeometry",s.parameters={polygonGeoJson:t,bottomHeight:n,topHeight:r,closedBottom:i,closedTop:o,includeSides:a,curvatureResolution:u},n=n||0,r=r||1,i=void 0===i||i,o=void 0===o||o,a=void 0===a||a;var l,s,c=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.resolution,o=void 0===i?1/0:i,a=(e=t,n=o,e.map(function(t){var e,r=[];return t.forEach(function(t){if(e){var i=180*(0,t3.A)(t,e)/Math.PI;if(i>n)for(var o=(0,t5.A)(e,t),a=1/Math.ceil(i/n),u=a;u<1;)r.push(o(u)),u+=a}r.push(e=t)}),r})),u=k(a),l=function(t,e){var n={type:"Polygon",coordinates:t},r=nv(t2(n),2),i=nv(r[0],2),o=i[0],a=i[1],u=nv(r[1],2),l=u[0],s=u[1];if(Math.min(Math.abs(l-o),Math.abs(s-a))<e)return[];var c=o>l||s>=89||a<=-89;return(function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minLng,r=e.maxLng,i=e.minLat,o=e.maxLat,a=Math.round(Math.pow(360/t,2)/Math.PI),u=(1+Math.sqrt(5))/2,l=function(t){return a*(Math.cos((t+90)*Math.PI/180)+1)/2},s=[void 0!==o?Math.ceil(l(o)):0,void 0!==i?Math.floor(l(i)):a-1],c=void 0===n&&void 0===r?function(){return!0}:void 0===n?function(t){return t<=r}:void 0===r?function(t){return t>=n}:r>=n?function(t){return t>=n&&t<=r}:function(t){return t>=n||t<=r},f=[],h=s[0];h<=s[1];h++){var d=h/u*360%360-180;c(d)&&f.push([d,Math.acos(2*h/a-1)/Math.PI*180-90])}return f})(e,{minLng:o,maxLng:l,minLat:a,maxLat:s}).filter(function(t){return nb(t,n,c)})}(t,o),s=[].concat(ng(u),ng(l)),c={type:"Polygon",coordinates:t},f=nv(t2(c),2),h=nv(f[0],2),d=h[0],p=h[1],m=nv(f[1],2),v=m[0],g=m[1],y=d>v||g>=89||p<=-89,b=[];if(y){var E=(function(t){let e=function(t){if(e.delaunay=null,e._data=t,"object"==typeof e._data&&"FeatureCollection"===e._data.type&&(e._data=e._data.features),"object"==typeof e._data){let t=e._data.map(t=>[e._vx(t),e._vy(t),t]).filter(t=>isFinite(t[0]+t[1]));e.points=t.map(t=>[t[0],t[1]]),e.valid=t.map(t=>t[2]),e.delaunay=function(t){var e,n,r,i;let o=function(t){if(t.length<2)return{};let e=0;for(;isNaN(t[e][0]+t[e][1])&&e++<t.length;);let n=function(t){function e(e){return e=t(e[0]*tj.F2,e[1]*tj.F2),e[0]*=tj.uj,e[1]*=tj.uj,e}return t=eP(t[0]*tj.F2,t[1]*tj.F2,t.length>2?t[2]*tj.F2:0),e.invert=function(e){return e=t.invert(e[0]*tj.F2,e[1]*tj.F2),e[0]*=tj.uj,e[1]*=tj.uj,e},e}(t[e]),r=(function(t){var e,n,r,i,o,a,u,l,s,c,f=150,h=480,d=250,p=0,m=0,v=0,g=0,y=0,b=0,E=1,_=1,x=null,w=eU,S=null,M=eB,A=.5;function P(t){return l(t[0]*tj.F2,t[1]*tj.F2)}function j(t){return(t=l.invert(t[0],t[1]))&&[t[0]*tj.uj,t[1]*tj.uj]}function T(){var t=e0(f,0,0,E,_,b).apply(null,e(p,m)),r=e0(f,h-t[0],d-t[1],E,_,b);return n=eP(v,g,y),u=eM(e,r),l=eM(n,u),a=eQ(u,A),O()}function O(){return s=c=null,P}return P.stream=function(t){var e;return s&&c===t?s:s=eJ((e=n,eH({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}}))(w(a(M(c=t)))))},P.preclip=function(t){return arguments.length?(w=t,x=void 0,O()):w},P.postclip=function(t){return arguments.length?(M=t,S=r=i=o=null,O()):M},P.clipAngle=function(t){return arguments.length?(w=+t?function(t){var e=(0,tj.gn)(t),n=2*tj.F2,r=e>0,i=(0,tj.tn)(e)>tj.Ni;function o(t,n){return(0,tj.gn)(t)*(0,tj.gn)(n)>e}function a(t,n,r){var i=tL(t),o=tL(n),a=[1,0,0],u=tD(i,o),l=tU(u,u),s=u[0],c=l-s*s;if(!c)return!r&&t;var f=tD(a,u),h=tH(a,e*l/c);tB(h,tH(u,-e*s/c));var d=tU(h,f),p=tU(f,f),m=d*d-p*(tU(h,h)-1);if(!(m<0)){var v=(0,tj.RZ)(m),g=tH(f,(-d-v)/p);if(tB(g,h),g=tN(g),!r)return g;var y,b=t[0],E=n[0],_=t[1],x=n[1];E<b&&(y=b,b=E,E=y);var w=E-b,S=(0,tj.tn)(w-tj.pi)<tj.Ni,M=S||w<tj.Ni;if(!S&&x<_&&(y=_,_=x,x=y),M?S?_+x>0^g[1]<((0,tj.tn)(g[0]-b)<tj.Ni?_:x):_<=g[1]&&g[1]<=x:w>tj.pi^(b<=g[0]&&g[0]<=E)){var A=tH(f,(-d+v)/p);return tB(A,h),[g,tN(A)]}}}function u(e,n){var i=r?t:tj.pi-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return eR(o,function(t){var e,n,l,s,c;return{lineStart:function(){s=l=!1,c=1},point:function(f,h){var d,p,m=[f,h],v=o(f,h),g=r?v?0:u(f,h):v?u(f+(f<0?tj.pi:-tj.pi),h):0;!e&&(s=l=v)&&t.lineStart(),v!==l&&(!(p=a(e,m))||eF(e,p)||eF(m,p))&&(m[2]=1),v!==l?(c=0,v?(t.lineStart(),p=a(m,e),t.point(p[0],p[1])):(p=a(e,m),t.point(p[0],p[1],2),t.lineEnd()),e=p):i&&e&&r^v&&!(g&n)&&(d=a(m,e,!0))&&(c=0,r?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1],3))),!v||e&&eF(e,m)||t.point(m[0],m[1]),e=m,l=v,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(s&&l)<<1}}},function(e,r,i,o){(function(t,e,n,r,i,o){if(n){var a=(0,tj.gn)(e),u=(0,tj.F8)(e),l=r*n;null==i?(i=e+r*tj.FA,o=e-l/2):(i=eD(a,i),o=eD(a,o),(r>0?i<o:i>o)&&(i+=r*tj.FA));for(var s,c=i;r>0?c>o:c<o;c-=l)s=tN([a,-u*(0,tj.gn)(c),-u*(0,tj.F8)(c)]),t.point(s[0],s[1])}})(o,t,n,i,e,r)},r?[0,-t]:[-tj.pi,t-tj.pi])}(x=t*tj.F2):(x=null,eU),O()):x*tj.uj},P.clipExtent=function(t){return arguments.length?(M=null==t?(S=r=i=o=null,eB):function(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,s){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(o,u))||0>l(i,o)^u>0)do s.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==f);else s.point(o[0],o[1])}function a(r,i){return(0,tj.tn)(r[0]-t)<tj.Ni?i>0?0:3:(0,tj.tn)(r[0]-n)<tj.Ni?i>0?2:1:(0,tj.tn)(r[1]-e)<tj.Ni?+(i>0):i>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,s,c,f,h,d,p,m,v,g,y,b=a,E=ek(),_={point:x,lineStart:function(){_.point=w,s&&s.push(c=[]),g=!0,v=!1,p=m=NaN},lineEnd:function(){l&&(w(f,h),d&&v&&E.rejoin(),l.push(E.result())),_.point=x,v&&b.lineEnd()},polygonStart:function(){b=E,l=[],s=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=s.length;n<i;++n)for(var o,a,u=s[n],l=1,c=u.length,f=u[0],h=f[0],d=f[1];l<c;++l)o=h,a=d,h=(f=u[l])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=y&&e,i=(l=k(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&eC(l,u,e,o,a),a.polygonEnd()),b=a,l=s=c=null}};function x(t,e){i(t,e)&&b.point(t,e)}function w(o,a){var u=i(o,a);if(s&&c.push([o,a]),g)f=o,h=a,d=u,g=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&v)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],E=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];(function(t,e,n,r,i,o){var a,u=t[0],l=t[1],s=e[0],c=e[1],f=0,h=1,d=s-u,p=c-l;if(a=n-u,!!d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=u+f*d,t[1]=l+f*p),h<1&&(e[0]=u+h*d,e[1]=l+h*p),!0}}}}})(l,E,t,e,n,r)?(v||(b.lineStart(),b.point(l[0],l[1])),b.point(E[0],E[1]),u||b.lineEnd(),y=!1):u&&(b.lineStart(),b.point(o,a),y=!1)}p=o,m=a,v=u}return _}}(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),O()):null==S?null:[[S,r],[i,o]]},P.scale=function(t){return arguments.length?(f=+t,T()):f},P.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],T()):[h,d]},P.center=function(t){return arguments.length?(p=t[0]%360*tj.F2,m=t[1]%360*tj.F2,T()):[p*tj.uj,m*tj.uj]},P.rotate=function(t){return arguments.length?(v=t[0]%360*tj.F2,g=t[1]%360*tj.F2,y=t.length>2?t[2]%360*tj.F2:0,T()):[v*tj.uj,g*tj.uj,y*tj.uj]},P.angle=function(t){return arguments.length?(b=t%360*tj.F2,T()):b*tj.uj},P.reflectX=function(t){return arguments.length?(E=t?-1:1,T()):E<0},P.reflectY=function(t){return arguments.length?(_=t?-1:1,T()):_<0},P.precision=function(t){return arguments.length?(a=eQ(u,A=t*t),O()):(0,tj.RZ)(A)},P.fitExtent=function(t,e){return e$(P,t,e)},P.fitSize=function(t,e){return e$(P,[[0,0],t],e)},P.fitWidth=function(t,e){return eX(P,function(e){var n=+t,r=n/(e[1][0]-e[0][0]),i=(n-r*(e[1][0]+e[0][0]))/2,o=-r*e[0][1];P.scale(150*r).translate([i,o])},e)},P.fitHeight=function(t,e){return eX(P,function(e){var n=+t,r=n/(e[1][1]-e[0][1]),i=-r*e[0][0],o=(n-r*(e[1][1]+e[0][1]))/2;P.scale(150*r).translate([i,o])},e)},function(){return e=t.apply(this,arguments),P.invert=e.invert&&j,T()}})(function(){return e1})().scale(250).clipAngle(142).translate([0,0]).scale(1).rotate(n.invert([180,0]));t=t.map(r);let i=[],o=1;for(let e=0,n=t.length;e<n;e++){let n=t[e][0]**2+t[e][1]**2;!isFinite(n)||n>1e32?i.push(e):n>o&&(o=n)}let a=1e6*nn(o);i.forEach(e=>t[e]=[a,0]),t.push([0,a]),t.push([-a,0]),t.push([0,-a]);let u=eS.from(t);u.projection=r;let{triangles:l,halfedges:s,inedges:c}=u,f=[];for(let n=0,r=s.length;n<r;n++)if(s[n]<0){let t=n%3==2?n-2:n+1,r=n%3==0?n+2:n-1,i=s[t],o=s[r];s[i]=o,s[o]=i,s[t]=s[r]=-1,l[n]=l[t]=l[r]=e,c[l[i]]=i%3==0?i+2:i-1,c[l[o]]=o%3==0?o+2:o-1,f.push(Math.min(n,t,r)),n+=2-n%3}else l[n]>t.length-3-1&&(l[n]=e);return u}(t),a=function(t){let{triangles:e}=t;if(!e)return[];let n=[];for(let t=0,r=e.length/3;t<r;t++){let r=e[3*t],i=e[3*t+1],o=e[3*t+2];r!==i&&i!==o&&n.push([r,o,i])}return n}(o),u=function(t,e){let n=new Set;return 2===e.length?[[0,1]]:(t.forEach(t=>{if(t[0]!==t[1]&&!(0>ns(t.map(t=>e[t]))))for(let e=0,r;e<3;e++)r=(e+1)%3,n.add(F([t[e],t[r]]).join("-"))}),Array.from(n,t=>t.split("-").map(Number)))}(a,t),l=function(t,e){let n=[];return t.forEach(t=>{for(let e=0;e<3;e++){let r=t[e],i=t[(e+1)%3];n[r]=n[r]||[],n[r].push(i)}}),0===t.length&&(2===e?(n[0]=[1],n[1]=[0]):1===e&&(n[0]=[])),n}(a,t.length),s=function(t,e){function n(t,e){let n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}return function(r,i,o){void 0===o&&(o=0);let a,u,l=o,s=nl([r,i]);do a=o,o=null,u=n(s,nl(e[a])),t[a].forEach(t=>{let r=n(s,nl(e[t]));if(r<u){u=r,o=t,l=t;return}});while(null!==o);return l}}(l,t),{polygons:c,centers:f}=function(t,e,n){let r=[],i=t.slice();if(0===e.length){if(n.length<2)return{polygons:r,centers:i};if(2===n.length){let t=nl(n[0]),e=nl(n[1]),a=na(no(t,e)),u=na(ni(t,e)),l=ni(a,u),s=[a,ni(a,l),ni(ni(a,l),l),ni(ni(ni(a,l),l),l)].map(nu).map(o);return r.push(s),r.push(s.slice().reverse()),{polygons:r,centers:i}}}function o(t){let n=-1;return i.slice(e.length,1/0).forEach((r,i)=>{r[0]===t[0]&&r[1]===t[1]&&(n=i+e.length)}),n<0&&(n=i.length,i.push(t)),n}return e.forEach((t,e)=>{for(let n=0;n<3;n++){let i=t[n],o=t[(n+1)%3],a=t[(n+2)%3];r[i]=r[i]||[],r[i].push([o,a,e,[i,o,a]])}}),{polygons:r.map(t=>{let e=[t[0][2]],r=t[0][1];for(let n=1;n<t.length;n++)for(let n=0;n<t.length;n++)if(t[n][0]==r){r=t[n][1],e.push(t[n][2]);break}if(e.length>2)return e;if(2==e.length){let r=nc(n[t[0][3][0]],n[t[0][3][1]],i[e[0]]),a=nc(n[t[0][3][2]],n[t[0][3][0]],i[e[0]]),u=o(r),l=o(a);return[e[0],l,e[1],u]}}),centers:i}}((e=a,n=t,e.map(t=>{let e=t.map(t=>n[t]).map(nl);return nu(na(no(no(ni(e[1],e[0]),ni(e[2],e[1])),ni(e[0],e[2]))))})),a,t),h=function(t){let e=[];return t.forEach(t=>{if(!t)return;let n=t[t.length-1];for(let r of t)r>n&&e.push([n,r]),n=r}),e}(c),d=function(t,e){let n;let r=new Set,i=[];t.map(t=>{if(!(ns(t.map(t=>e[t>e.length?0:t]))>1e-12))for(let e=0;e<3;e++){let n=[t[e],t[(e+1)%3]],i=`${n[0]}-${n[1]}`;r.has(i)?r.delete(i):r.add(`${n[1]}-${n[0]}`)}});let o=new Map;if(r.forEach(t=>{t=t.split("-").map(Number),o.set(t[0],t[1]),n=t[0]}),void 0===n)return i;let a=n;do{i.push(a);let t=o.get(a);o.set(a,-1),a=t}while(a>-1&&a!==n);return i}(a,t),p=(r=u,i=a,function(t){let e=new Map,n=new Map;return r.forEach((r,i)=>{let o=r.join("-");e.set(o,t[i]),n.set(o,!0)}),i.forEach(t=>{let r=0,i=-1;for(let n=0;n<3;n++){let o=F([t[n],t[(n+1)%3]]).join("-");e.get(o)>r&&(r=e.get(o),i=o)}n.set(i,!1)}),r.map(t=>n.get(t.join("-")))});return{delaunay:o,edges:u,triangles:a,centers:f,neighbors:l,polygons:c,mesh:h,hull:d,urquhart:p,find:s}}(e.points)}return e};return e._vx=function(t){return"object"==typeof t&&"type"in t?ev(t)[0]:0 in t?t[0]:void 0},e._vy=function(t){return"object"==typeof t&&"type"in t?ev(t)[1]:1 in t?t[1]:void 0},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;let n={type:"FeatureCollection",features:[]};return 0===e.valid.length||(e.delaunay.polygons.forEach((t,r)=>n.features.push({type:"Feature",geometry:t?{type:"Polygon",coordinates:[[...t,t[0]].map(t=>e.delaunay.centers[t])]}:null,properties:{site:e.valid[r],sitecoordinates:e.points[r],neighbours:e.delaunay.neighbors[r]}})),1===e.valid.length&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),n},e.triangles=function(t){return void 0!==t&&e(t),!!e.delaunay&&{type:"FeatureCollection",features:e.delaunay.triangles.map((t,n)=>((t=t.map(t=>e.points[t])).center=e.delaunay.centers[n],t)).filter(t=>ns(t)>0).map(t=>({type:"Feature",properties:{circumcenter:t.center},geometry:{type:"Polygon",coordinates:[[...t,t[0]]]}}))}},e.links=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;let n=e.delaunay.edges.map(t=>(0,t3.A)(e.points[t[0]],e.points[t[1]])),r=e.delaunay.urquhart(n);return{type:"FeatureCollection",features:e.delaunay.edges.map((t,i)=>({type:"Feature",properties:{source:e.valid[t[0]],target:e.valid[t[1]],length:n[i],urquhart:!!r[i]},geometry:{type:"LineString",coordinates:[e.points[t[0]],e.points[t[1]]]}}))}},e.mesh=function(t){return void 0!==t&&e(t),!!e.delaunay&&{type:"MultiLineString",coordinates:e.delaunay.edges.map(t=>[e.points[t[0]],e.points[t[1]]])}},e.cellMesh=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;let{centers:n,polygons:r}=e.delaunay,i=[];for(let t of r)if(t)for(let e=t.length,r=t[e-1],o=t[0],a=0;a<e;r=o,o=t[++a])o>r&&i.push([n[r],n[o]]);return{type:"MultiLineString",coordinates:i}},e._found=void 0,e.find=function(t,n,r){if(e._found=e.delaunay.find(t,n,e._found),!r||(0,t3.A)([t,n],e.points[e._found])<r)return e._found},e.hull=function(t){void 0!==t&&e(t);let n=e.delaunay.hull,r=e.points;return 0===n.length?null:{type:"Polygon",coordinates:[[...n.map(t=>r[t]),r[n[0]]]]}},t?e(t):e})(s).triangles(),_=new Map(s.map(function(t,e){var n=nv(t,2),r=n[0],i=n[1];return["".concat(r,"-").concat(i),e]}));E.features.forEach(function(t){var e,n=t.geometry.coordinates[0].slice(0,3).reverse(),r=[];if(n.forEach(function(t){var e=nv(t,2),n=e[0],i=e[1],o="".concat(n,"-").concat(i);_.has(o)&&r.push(_.get(o))}),3===r.length){if(r.some(function(t){return t<u.length})&&!nb(t.properties.circumcenter,c,y))return;(e=b).push.apply(e,r)}})}else if(l.length){for(var x=tm.from(s),w=function(t){var e,n=[2,1,0].map(function(e){return x.triangles[t+e]}),r=n.map(function(t){return s[t]});if(n.some(function(t){return t<u.length})&&!nb([0,1].map(function(t){return function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e*=1)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o*=1)>=o&&(++n,r+=o)}if(n)return r/n}(r,function(e){return e[t]})}),c,y))return 1;(e=b).push.apply(e,ng(n))},S=0,M=x.triangles.length;S<M;S+=3)if(w(S))continue}else{var A=(0,I.Bq)(a),P=A.vertices,j=A.holes;b=(0,I.Ay)(P,void 0===j?[]:j,2)}var T=(0,nf.A)(F(s,function(t){return t[0]}),[0,1]),O=(0,nf.A)(F(s,function(t){return t[1]}),[0,1]),C=s.map(function(t){var e=nv(t,2),n=e[0],r=e[1];return[T(n),O(r)]});return{contour:a,triangles:{points:s,indices:b,uvs:C}}}(t,{resolution:u=u||5}),f=c.contour,h=c.triangles,d=k(h.uvs),p=[],m=[],v=[],g=0,y=function(t){var e=Math.round(p.length/3),n=v.length;p=p.concat(t.vertices),m=m.concat(t.uvs),v=v.concat(e?t.indices.map(function(t){return t+e}):t.indices),s.addGroup(n,v.length-n,g++)};function b(t,e){var n="function"==typeof e?e:function(){return e},r=t.map(function(t){return t.map(function(t){var e=nv(t,2),r=e[0],i=e[1];return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}(i,r,n(r,i))})});return(0,I.Bq)(r)}function E(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return{indices:e?h.indices:h.indices.slice().reverse(),vertices:b([h.points],t).vertices,uvs:d}}return a&&y(function(){for(var t=b(f,n),e=t.vertices,i=t.holes,o=b(f,r).vertices,a=k([o,e]),u=Math.round(o.length/3),l=new Set(i),s=0,c=[],h=0;h<u;h++){var d=h+1;if(d===u)d=s;else if(l.has(d)){var p=d;d=s,s=p}c.push(h,h+u,d+u),c.push(d+u,d,h)}for(var m=[],v=1;v>=0;v--)for(var g=0;g<u;g+=1)m.push(g/(u-1),v);return{indices:c,vertices:a,uvs:m}}()),i&&y(E(n,!1)),o&&y(E(r,!0)),s.setIndex(v),s[n_]("position",new nE.Float32BufferAttribute(p,3)),s[n_]("uv",new nE.Float32BufferAttribute(m,2)),s.computeVertexNormals(),s}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nm(t,e)}(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(nE.BufferGeometry)},21312:(t,e,n)=>{"use strict";n.d(e,{G:()=>o});var r=n(97431),i=n(43264);r.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new i.I9Y(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},r.ShaderLib.line={uniforms:i.LlO.merge([r.UniformsLib.common,r.UniformsLib.fog,r.UniformsLib.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class o extends i.BKk{constructor(t){super({type:"LineMaterial",uniforms:i.LlO.clone(r.ShaderLib.line.uniforms),vertexShader:r.ShaderLib.line.vertexShader,fragmentShader:r.ShaderLib.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(t)}get color(){return this.uniforms.diffuse.value}set color(t){this.uniforms.diffuse.value=t}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(t){!0===t?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(t){this.uniforms.linewidth&&(this.uniforms.linewidth.value=t)}get dashed(){return"USE_DASH"in this.defines}set dashed(t){!0===t!==this.dashed&&(this.needsUpdate=!0),!0===t?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(t){this.uniforms.dashScale.value=t}get dashSize(){return this.uniforms.dashSize.value}set dashSize(t){this.uniforms.dashSize.value=t}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(t){this.uniforms.dashOffset.value=t}get gapSize(){return this.uniforms.gapSize.value}set gapSize(t){this.uniforms.gapSize.value=t}get opacity(){return this.uniforms.opacity.value}set opacity(t){this.uniforms&&(this.uniforms.opacity.value=t)}get resolution(){return this.uniforms.resolution.value}set resolution(t){this.uniforms.resolution.value.copy(t)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(t){this.defines&&(!0===t!==this.alphaToCoverage&&(this.needsUpdate=!0),!0===t?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}},22436:(t,e,n)=>{"use strict";var r=n(12115),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=r.useState,a=r.useEffect,u=r.useLayoutEffect,l=r.useDebugValue;function s(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,c=r[1];return u(function(){i.value=n,i.getSnapshot=e,s(i)&&c({inst:i})},[t,n,e]),a(function(){return s(i)&&c({inst:i}),t(function(){s(i)&&c({inst:i})})},[t]),l(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},24135:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(43264);class i extends r.QCA{constructor(t,e={}){let n=e.font;if(void 0===n)super();else{let r=n.generateShapes(t,e.size);void 0===e.depth&&(e.depth=50),void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),super(r,e)}this.type="TextGeometry"}}},25479:(t,e,n)=>{"use strict";n.d(e,{n:()=>a});var r=n(43264);let i=new r.NRn,o=new r.Pq0;class a extends r.CmU{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new r.qtW([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new r.qtW([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(t){let e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==e&&(e.applyMatrix4(t),n.applyMatrix4(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));let n=new r.LuO(e,6,1);return this.setAttribute("instanceStart",new r.eHs(n,3,0)),this.setAttribute("instanceEnd",new r.eHs(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));let n=new r.LuO(e,6,1);return this.setAttribute("instanceColorStart",new r.eHs(n,3,0)),this.setAttribute("instanceColorEnd",new r.eHs(n,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new r.XJ7(t.geometry)),this}fromLineSegments(t){let e=t.geometry;return this.setPositions(e.attributes.position.array),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new r.NRn);let t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),i.setFromBufferAttribute(e),this.boundingBox.union(i))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new r.iyt),null===this.boundingBox&&this.computeBoundingBox();let t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){let n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let i=0,a=t.count;i<a;i++)o.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(o)),o.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(o));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}},26354:(t,e,n)=>{"use strict";n.d(e,{Af:()=>u,Nz:()=>i,u5:()=>l,y3:()=>f});var r=n(12115);function i(t,e,n){if(!t)return;if(!0===n(t))return t;let r=e?t.return:t.child;for(;r;){let t=i(r,e,n);if(t)return t;r=e?null:r.sibling}}function o(t){try{return Object.defineProperties(t,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(e){return t}}(()=>{var t,e;return"undefined"!=typeof window&&((null==(t=window.document)?void 0:t.createElement)||(null==(e=window.navigator)?void 0:e.product)==="ReactNative")})()?r.useLayoutEffect:r.useEffect;let a=o(r.createContext(null));class u extends r.Component{render(){return r.createElement(a.Provider,{value:this._reactInternals},this.props.children)}}function l(){let t=r.useContext(a);if(null===t)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let e=r.useId();return r.useMemo(()=>{for(let n of[t,null==t?void 0:t.alternate]){if(!n)continue;let t=i(n,!1,t=>{let n=t.memoizedState;for(;n;){if(n.memoizedState===e)return!0;n=n.next}});if(t)return t}},[t,e])}let s=Symbol.for("react.context"),c=t=>null!==t&&"object"==typeof t&&"$$typeof"in t&&t.$$typeof===s;function f(){let t=function(){let t=l(),[e]=r.useState(()=>new Map);e.clear();let n=t;for(;n;){let t=n.type;c(t)&&t!==a&&!e.has(t)&&e.set(t,r.use(o(t))),n=n.return}return e}();return r.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>r.createElement(e,null,r.createElement(n.Provider,{...i,value:t.get(n)})),t=>r.createElement(u,{...t})),[t])}},27144:(t,e,n)=>{"use strict";n.d(e,{$t:()=>i,F2:()=>c,F8:()=>b,FA:()=>l,FP:()=>d,HQ:()=>w,Ml:()=>x,Ni:()=>r,RZ:()=>_,Rm:()=>y,TW:()=>a,_S:()=>E,bo:()=>M,dY:()=>g,gn:()=>p,gz:()=>u,mk:()=>m,oN:()=>v,pi:()=>o,qR:()=>S,rY:()=>h,tn:()=>f,uj:()=>s});var r=1e-6,i=1e-12,o=Math.PI,a=o/2,u=o/4,l=2*o,s=180/o,c=o/180,f=Math.abs,h=Math.atan,d=Math.atan2,p=Math.cos,m=Math.ceil,v=Math.exp,g=Math.hypot,y=Math.log,b=Math.sin,E=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,x=Math.tan;function w(t){return t>1?0:t<-1?o:Math.acos(t)}function S(t){return t>1?a:t<-1?-a:Math.asin(t)}function M(t){return(t=b(t/2))*t}},27926:function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e,n){void 0===t&&(t=NaN),void 0===e&&(e=NaN),void 0===n&&(n=!1),this._minFPS=e,this._maxFPS=t,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new r.default,this._onPause=new r.default,this._onTick=new r.default,this._onTickOncePerFrame=new r.default,n||this.resume()}return t.prototype.updateOnce=function(t){t(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},t.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},t.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},t.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(t.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale!==t&&(this._timeScale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),t.prototype.animateOnce=function(){var t=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return t.onFrame()})},t.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval){if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval}this._isRunning&&this.animateOnce()},t.prototype.update=function(t,e){void 0===e&&(e=!0),this._currentTick++,this._currentTime+=t,this._tickDeltaTime=t,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),e&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},t.prototype.getTimer=function(){return Date.now()},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";var n=function(){function t(){this.functions=[]}return t.prototype.add=function(t){return -1===this.functions.indexOf(t)&&(this.functions.push(t),!0)},t.prototype.remove=function(t){var e=this.functions.indexOf(t);return e>-1&&(this.functions.splice(e,1),!0)},t.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.functions.concat().forEach(function(e){e.apply(void 0,t)})},Object.defineProperty(t.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}])}])},45220:(t,e,n)=>{"use strict";t.exports=n(21724)},45369:(t,e,n)=>{"use strict";n.d(e,{A:()=>F});let r=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var i="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();let u=function(){return a.Date.now()};var l=/\s/;let s=function(t){for(var e=t.length;e--&&l.test(t.charAt(e)););return e};var c=/^\s+/,f=a.Symbol,h=Object.prototype,d=h.hasOwnProperty,p=h.toString,m=f?f.toStringTag:void 0;let v=function(t){var e=d.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(t){}var i=p.call(t);return r&&(e?t[m]=n:delete t[m]),i};var g=Object.prototype.toString,y=f?f.toStringTag:void 0;let b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?v(t):g.call(t)},E=function(t){return"symbol"==typeof t||null!=t&&"object"==typeof t&&"[object Symbol]"==b(t)};var _=0/0,x=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,S=/^0o[0-7]+$/i,M=parseInt;let A=function(t){if("number"==typeof t)return t;if(E(t))return _;if(r(t)){var e,n="function"==typeof t.valueOf?t.valueOf():t;t=r(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,s(e)+1).replace(c,""):e;var i=w.test(t);return i||S.test(t)?M(t.slice(2),i?2:8):x.test(t)?_:+t};var P=Math.max,j=Math.min;let T=function(t,e,n){var i,o,a,l,s,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw TypeError("Expected a function");function m(e){var n=i,r=o;return i=o=void 0,f=e,l=t.apply(r,n)}function v(t){var n=t-c,r=t-f;return void 0===c||n>=e||n<0||d&&r>=a}function g(){var t,n,r,i=u();if(v(i))return y(i);s=setTimeout(g,(t=i-c,n=i-f,r=e-t,d?j(r,a-n):r))}function y(t){return(s=void 0,p&&i)?m(t):(i=o=void 0,l)}function b(){var t,n=u(),r=v(n);if(i=arguments,o=this,c=n,r){if(void 0===s)return f=t=c,s=setTimeout(g,e),h?m(t):l;if(d)return clearTimeout(s),s=setTimeout(g,e),m(c)}return void 0===s&&(s=setTimeout(g,e)),l}return e=A(e)||0,r(n)&&(h=!!n.leading,a=(d="maxWait"in n)?P(A(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),f=0,i=c=o=s=void 0},b.flush=function(){return void 0===s?l:y(u())},b};function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var k=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){var r=n.default,i=n.triggerUpdate,o=n.onChange;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.defaultVal=void 0===r?null:r,this.triggerUpdate=void 0===i||i,this.onChange=void 0===o?function(t,e){}:o});function F(t){var e=t.stateInit,n=void 0===e?function(){return{}}:e,r=t.props,i=void 0===r?{}:r,o=t.methods,a=void 0===o?{}:o,u=t.aliases,l=void 0===u?{}:u,s=t.init,c=void 0===s?function(){}:s,f=t.update,h=void 0===f?function(){}:f,d=Object.keys(i).map(function(t){return new k(t,i[t])});return function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=!!(this instanceof t?this.constructor:void 0),u=o?r.shift():void 0,s=r[0],f=void 0===s?{}:s,p=Object.assign({},n instanceof Function?n(f):n,{initialised:!1}),m={};function v(t){return g(t,f),y(),v}var g=function(t,e){c.call(v,t,p,e),p.initialised=!0},y=T(function(){p.initialised&&(h.call(v,p,m),m={})},1);return d.forEach(function(t){var e,n,r,i,o,a,u,l;v[t.name]=(n=(e=t).name,i=void 0!==(r=e.triggerUpdate)&&r,a=void 0===(o=e.onChange)?function(t,e){}:o,l=void 0===(u=e.defaultVal)?null:u,function(t){var e=p[n];if(!arguments.length)return e;var r=void 0===t?l:t;return p[n]=r,a.call(v,r,p,e),m.hasOwnProperty(n)||(m[n]=e),i&&y(),v})}),Object.keys(a).forEach(function(t){v[t]=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a[t]).call.apply(e,[v,p].concat(r))}}),Object.entries(l).forEach(function(t){var e=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{o=(n=n.call(t)).next;for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,2)||function(t,e){if(t){if("string"==typeof t)return O(t,2);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return v[n]=v[r]}),v.resetProps=function(){return d.forEach(function(t){v[t.name](t.defaultVal)}),v},v.resetProps(),p._rerender=y,o&&u&&v(u),v}}},45643:(t,e,n)=>{"use strict";t.exports=n(6115)},49033:(t,e,n)=>{"use strict";t.exports=n(22436)},51500:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r=n(43264),i=n(481),o=n(10500),a=n(61741),u=n(21185);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||d(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return l(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=null;return t.forEach(function(t){if(r){var i=180*(0,o.A)(t,r)/Math.PI;if(i>e)for(var s=(0,a.A)(r,t),c=r.length>2||t.length>2?(0,u.A)(r[2]||0,t[2]||0):null,f=c?function(t){var e;return[].concat(function(t){if(Array.isArray(t))return l(t)}(e=s(t))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||d(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[c(t)])}:s,h=1/Math.ceil(i/e),p=h;p<1;)n.push(f(p)),p+=h}n.push(r=t)}),n},m="undefined"!=typeof window&&window.THREE?window.THREE:{BufferGeometry:r.LoY,Float32BufferAttribute:r.qtW},v=new m.BufferGeometry().setAttribute?"setAttribute":"addAttribute",g=function(t){function e(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e),n=s(n=e),(r=function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,c()?Reflect.construct(n,[],s(this).constructor):n.apply(this,void 0))).type="GeoJsonGeometry",r.parameters={geoJson:t,radius:o,resolution:a};var u=(({Point:g,MultiPoint:function(t,e){var n={vertices:[],indices:[]};return t.map(function(t){return g(t,e)}).forEach(function(t){y(n,h(t,1)[0])}),[n]},LineString:b,MultiLineString:function(t,e){var n={vertices:[],indices:[]};return t.map(function(t){return b(t,e)}).forEach(function(t){y(n,h(t,1)[0])}),[n]},Polygon:_,MultiPolygon:function(t,e){var n={vertices:[],indices:[]},r={vertices:[],indices:[]};t.map(function(t){return _(t,e)}).forEach(function(t){var e=h(t,2),i=e[0],o=e[1];y(n,i),o&&y(r,o)});var i=[n];return r.vertices.length&&i.push(r),i}})[t.type]||function(){return[]})(t.coordinates,o),l=[],f=[],d=0;function g(t,e){return[{vertices:E(t[1],t[0],e+(t[2]||0)),indices:[]}]}function b(t,e){for(var n=p(t,a).map(function(t){var n=h(t,3),r=n[0],i=n[1],o=n[2];return E(i,r,e+(void 0===o?0:o))}),r=(0,i.Bq)([n]).vertices,o=Math.round(r.length/3),u=[],l=1;l<o;l++)u.push(l-1,l);return[{vertices:r,indices:u}]}function _(t,e){for(var n=t.map(function(t){return p(t,a).map(function(t){var n=h(t,3),r=n[0],i=n[1],o=n[2];return E(i,r,e+(void 0===o?0:o))})}),r=(0,i.Bq)(n),o=r.vertices,u=r.holes,l=u[0]||1/0,s=o.slice(0,3*l),c=o.slice(3*l),f=new Set(u),d=Math.round(o.length/3),m=[],v=[],g=1;g<d;g++)f.has(g)||(g<l?m.push(g-1,g):v.push(g-1-l,g-l));var y=[{indices:m,vertices:s}];return u.length&&y.push({indices:v,vertices:c}),y}return u.forEach(function(t){var e=l.length;y({indices:l,vertices:f},t),r.addGroup(e,l.length-e,d++)}),l.length&&r.setIndex(l),f.length&&r[v]("position",new m.Float32BufferAttribute(f,3)),r}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(m.BufferGeometry);function y(t,e){var n=Math.round(t.vertices.length/3);b(t.vertices,e.vertices),b(t.indices,e.indices.map(function(t){return t+n}))}function b(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i)}}catch(t){r.e(t)}finally{r.f()}}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}},54932:(t,e,n)=>{"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}n.d(e,{N:()=>b});var i=n(76552),o=n(12115),a=n(43264),u=Object.defineProperty,l=(t,e,n)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s=(t,e,n)=>(l(t,"symbol"!=typeof e?e+"":e,n),n);class c{constructor(){s(this,"_listeners")}addEventListener(t,e){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;let n=this._listeners[t];if(void 0!==n){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;let e=this._listeners[t.type];if(void 0!==e){t.target=this;let n=e.slice(0);for(let e=0,r=n.length;e<r;e++)n[e].call(this,t);t.target=null}}}var f=Object.defineProperty,h=(t,e,n)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e,n)=>(h(t,"symbol"!=typeof e?e+"":e,n),n);let p=new a.RlV,m=new a.Zcv,v=Math.cos(Math.PI/180*70),g=(t,e)=>(t%e+e)%e;class y extends c{constructor(t,e){super(),d(this,"object"),d(this,"domElement"),d(this,"enabled",!0),d(this,"target",new a.Pq0),d(this,"minDistance",0),d(this,"maxDistance",1/0),d(this,"minZoom",0),d(this,"maxZoom",1/0),d(this,"minPolarAngle",0),d(this,"maxPolarAngle",Math.PI),d(this,"minAzimuthAngle",-1/0),d(this,"maxAzimuthAngle",1/0),d(this,"enableDamping",!1),d(this,"dampingFactor",.05),d(this,"enableZoom",!0),d(this,"zoomSpeed",1),d(this,"enableRotate",!0),d(this,"rotateSpeed",1),d(this,"enablePan",!0),d(this,"panSpeed",1),d(this,"screenSpacePanning",!0),d(this,"keyPanSpeed",7),d(this,"zoomToCursor",!1),d(this,"autoRotate",!1),d(this,"autoRotateSpeed",2),d(this,"reverseOrbit",!1),d(this,"reverseHorizontalOrbit",!1),d(this,"reverseVerticalOrbit",!1),d(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),d(this,"mouseButtons",{LEFT:a.kBv.ROTATE,MIDDLE:a.kBv.DOLLY,RIGHT:a.kBv.PAN}),d(this,"touches",{ONE:a.wtR.ROTATE,TWO:a.wtR.DOLLY_PAN}),d(this,"target0"),d(this,"position0"),d(this,"zoom0"),d(this,"_domElementKeyEvents",null),d(this,"getPolarAngle"),d(this,"getAzimuthalAngle"),d(this,"setPolarAngle"),d(this,"setAzimuthalAngle"),d(this,"getDistance"),d(this,"getZoomScale"),d(this,"listenToKeyEvents"),d(this,"stopListenToKeyEvents"),d(this,"saveState"),d(this,"reset"),d(this,"update"),d(this,"connect"),d(this,"dispose"),d(this,"dollyIn"),d(this,"dollyOut"),d(this,"getScale"),d(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=t=>{let e=g(t,2*Math.PI),r=c.phi;r<0&&(r+=2*Math.PI),e<0&&(e+=2*Math.PI);let i=Math.abs(e-r);2*Math.PI-i<i&&(e<r?e+=2*Math.PI:r+=2*Math.PI),f.phi=e-r,n.update()},this.setAzimuthalAngle=t=>{let e=g(t,2*Math.PI),r=c.theta;r<0&&(r+=2*Math.PI),e<0&&(e+=2*Math.PI);let i=Math.abs(e-r);2*Math.PI-i<i&&(e<r?e+=2*Math.PI:r+=2*Math.PI),f.theta=e-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",tt),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",tt),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=u.NONE},this.update=(()=>{let e=new a.Pq0,i=new a.Pq0(0,1,0),o=new a.PTz().setFromUnitVectors(t.up,i),d=o.clone().invert(),g=new a.Pq0,b=new a.PTz,E=2*Math.PI;return function(){let _=n.object.position;o.setFromUnitVectors(t.up,i),d.copy(o).invert(),e.copy(_).sub(n.target),e.applyQuaternion(o),c.setFromVector3(e),n.autoRotate&&l===u.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=f.theta*n.dampingFactor,c.phi+=f.phi*n.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let x=n.minAzimuthAngle,w=n.maxAzimuthAngle;isFinite(x)&&isFinite(w)&&(x<-Math.PI?x+=E:x>Math.PI&&(x-=E),w<-Math.PI?w+=E:w>Math.PI&&(w-=E),x<=w?c.theta=Math.max(x,Math.min(w,c.theta)):c.theta=c.theta>(x+w)/2?Math.max(x,c.theta):Math.min(w,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),n.zoomToCursor&&O||n.object.isOrthographicCamera?c.radius=B(c.radius):c.radius=B(c.radius*h),e.setFromSpherical(c),e.applyQuaternion(d),_.copy(n.target).add(e),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),y.set(0,0,0));let S=!1;if(n.zoomToCursor&&O){let r=null;if(n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let t=e.length();r=B(t*h);let i=t-r;n.object.position.addScaledVector(j,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let t=new a.Pq0(T.x,T.y,0);t.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),S=!0;let i=new a.Pq0(T.x,T.y,0);i.unproject(n.object),n.object.position.sub(i).add(t),n.object.updateMatrixWorld(),r=e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(p.origin.copy(n.object.position),p.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(p.direction))<v?t.lookAt(n.target):(m.setFromNormalAndCoplanarPoint(n.object.up,n.target),p.intersectPlane(m,n.target))))}else n.object instanceof a.qUd&&n.object.isOrthographicCamera&&(S=1!==h)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix());return h=1,O=!1,!!(S||g.distanceToSquared(n.object.position)>s||8*(1-b.dot(n.object.quaternion))>s)&&(n.dispatchEvent(r),g.copy(n.object.position),b.copy(n.object.quaternion),S=!1,!0)}})(),this.connect=t=>{n.domElement=t,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",te),n.domElement.addEventListener("pointerdown",$),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var t,e,r,i,o,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(t=n.domElement)||t.removeEventListener("contextmenu",te),null==(e=n.domElement)||e.removeEventListener("pointerdown",$),null==(r=n.domElement)||r.removeEventListener("pointercancel",Q),null==(i=n.domElement)||i.removeEventListener("wheel",J),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",K),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",Q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",tt)};let n=this,r={type:"change"},i={type:"start"},o={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=u.NONE,s=1e-6,c=new a.YHV,f=new a.YHV,h=1,y=new a.Pq0,b=new a.I9Y,E=new a.I9Y,_=new a.I9Y,x=new a.I9Y,w=new a.I9Y,S=new a.I9Y,M=new a.I9Y,A=new a.I9Y,P=new a.I9Y,j=new a.Pq0,T=new a.I9Y,O=!1,k=[],F={};function I(){return Math.pow(.95,n.zoomSpeed)}function C(t){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=t:f.theta-=t}function z(t){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=t:f.phi-=t}let R=(()=>{let t=new a.Pq0;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),y.add(t)}})(),N=(()=>{let t=new a.Pq0;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),y.add(t)}})(),L=(()=>{let t=new a.Pq0;return function(e,r){let i=n.domElement;if(i&&n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let o=n.object.position;t.copy(o).sub(n.target);let a=t.length();R(2*e*(a*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),N(2*r*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof a.qUd&&n.object.isOrthographicCamera?(R(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),N(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function U(t){n.object instanceof a.ubm&&n.object.isPerspectiveCamera||n.object instanceof a.qUd&&n.object.isOrthographicCamera?h=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function D(t){if(!n.zoomToCursor||!n.domElement)return;O=!0;let e=n.domElement.getBoundingClientRect(),r=t.clientX-e.left,i=t.clientY-e.top,o=e.width,a=e.height;T.x=r/o*2-1,T.y=-(i/a*2)+1,j.set(T.x,T.y,1).unproject(n.object).sub(n.object.position).normalize()}function B(t){return Math.max(n.minDistance,Math.min(n.maxDistance,t))}function H(t){b.set(t.clientX,t.clientY)}function q(t){x.set(t.clientX,t.clientY)}function V(){if(1==k.length)b.set(k[0].pageX,k[0].pageY);else{let t=.5*(k[0].pageX+k[1].pageX),e=.5*(k[0].pageY+k[1].pageY);b.set(t,e)}}function W(){if(1==k.length)x.set(k[0].pageX,k[0].pageY);else{let t=.5*(k[0].pageX+k[1].pageX),e=.5*(k[0].pageY+k[1].pageY);x.set(t,e)}}function G(){let t=k[0].pageX-k[1].pageX,e=k[0].pageY-k[1].pageY,n=Math.sqrt(t*t+e*e);M.set(0,n)}function Y(t){if(1==k.length)E.set(t.pageX,t.pageY);else{let e=tr(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);E.set(n,r)}_.subVectors(E,b).multiplyScalar(n.rotateSpeed);let e=n.domElement;e&&(C(2*Math.PI*_.x/e.clientHeight),z(2*Math.PI*_.y/e.clientHeight)),b.copy(E)}function Z(t){if(1==k.length)w.set(t.pageX,t.pageY);else{let e=tr(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);w.set(n,r)}S.subVectors(w,x).multiplyScalar(n.panSpeed),L(S.x,S.y),x.copy(w)}function X(t){var e;let r=tr(t),i=t.pageX-r.x,o=t.pageY-r.y,a=Math.sqrt(i*i+o*o);A.set(0,a),P.set(0,Math.pow(A.y/M.y,n.zoomSpeed)),e=P.y,U(h/e),M.copy(A)}function $(t){var e,r,o;!1!==n.enabled&&(0===k.length&&(null==(e=n.domElement)||e.ownerDocument.addEventListener("pointermove",K),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",Q)),o=t,k.push(o),"touch"===t.pointerType?function(t){switch(tn(t),k.length){case 1:switch(n.touches.ONE){case a.wtR.ROTATE:if(!1===n.enableRotate)return;V(),l=u.TOUCH_ROTATE;break;case a.wtR.PAN:if(!1===n.enablePan)return;W(),l=u.TOUCH_PAN;break;default:l=u.NONE}break;case 2:switch(n.touches.TWO){case a.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&G(),n.enablePan&&W(),l=u.TOUCH_DOLLY_PAN;break;case a.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&G(),n.enableRotate&&V(),l=u.TOUCH_DOLLY_ROTATE;break;default:l=u.NONE}break;default:l=u.NONE}l!==u.NONE&&n.dispatchEvent(i)}(t):function(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case a.kBv.DOLLY:if(!1===n.enableZoom)return;D(t),M.set(t.clientX,t.clientY),l=u.DOLLY;break;case a.kBv.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;q(t),l=u.PAN}else{if(!1===n.enableRotate)return;H(t),l=u.ROTATE}break;case a.kBv.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;H(t),l=u.ROTATE}else{if(!1===n.enablePan)return;q(t),l=u.PAN}break;default:l=u.NONE}l!==u.NONE&&n.dispatchEvent(i)}(t))}function K(t){!1!==n.enabled&&("touch"===t.pointerType?function(t){switch(tn(t),l){case u.TOUCH_ROTATE:if(!1===n.enableRotate)return;Y(t),n.update();break;case u.TOUCH_PAN:if(!1===n.enablePan)return;Z(t),n.update();break;case u.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&X(t),n.enablePan&&Z(t),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&X(t),n.enableRotate&&Y(t),n.update();break;default:l=u.NONE}}(t):function(t){if(!1!==n.enabled)switch(l){case u.ROTATE:if(!1===n.enableRotate)return;!function(t){E.set(t.clientX,t.clientY),_.subVectors(E,b).multiplyScalar(n.rotateSpeed);let e=n.domElement;e&&(C(2*Math.PI*_.x/e.clientHeight),z(2*Math.PI*_.y/e.clientHeight)),b.copy(E),n.update()}(t);break;case u.DOLLY:var e,r,i;if(!1===n.enableZoom)return;e=t,(A.set(e.clientX,e.clientY),P.subVectors(A,M),P.y>0)?(r=I(),U(h/r)):P.y<0&&(i=I(),U(h*i)),M.copy(A),n.update();break;case u.PAN:if(!1===n.enablePan)return;w.set(t.clientX,t.clientY),S.subVectors(w,x).multiplyScalar(n.panSpeed),L(S.x,S.y),x.copy(w),n.update()}}(t))}function Q(t){var e,r,i;(function(t){delete F[t.pointerId];for(let e=0;e<k.length;e++)if(k[e].pointerId==t.pointerId){k.splice(e,1);return}})(t),0===k.length&&(null==(e=n.domElement)||e.releasePointerCapture(t.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",K),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",Q)),n.dispatchEvent(o),l=u.NONE}function J(t){if(!1!==n.enabled&&!1!==n.enableZoom&&(l===u.NONE||l===u.ROTATE)){var e,r,a;t.preventDefault(),n.dispatchEvent(i),(D(e=t),e.deltaY<0)?(r=I(),U(h*r)):e.deltaY>0&&(a=I(),U(h/a)),n.update(),n.dispatchEvent(o)}}function tt(t){!1!==n.enabled&&!1!==n.enablePan&&function(t){let e=!1;switch(t.code){case n.keys.UP:L(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:L(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:L(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:L(-n.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),n.update())}(t)}function te(t){!1!==n.enabled&&t.preventDefault()}function tn(t){let e=F[t.pointerId];void 0===e&&(e=new a.I9Y,F[t.pointerId]=e),e.set(t.pageX,t.pageY)}function tr(t){return F[(t.pointerId===k[0].pointerId?k[1]:k[0]).pointerId]}this.dollyIn=(t=I())=>{U(h*t),n.update()},this.dollyOut=(t=I())=>{U(h/t),n.update()},this.getScale=()=>h,this.setScale=t=>{U(t),n.update()},this.getZoomScale=()=>I(),void 0!==e&&this.connect(e),this.update()}}let b=o.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:a,enableDamping:u=!0,keyEvents:l=!1,onChange:s,onStart:c,onEnd:f,...h},d)=>{let p=(0,i.A)(t=>t.invalidate),m=(0,i.A)(t=>t.camera),v=(0,i.A)(t=>t.gl),g=(0,i.A)(t=>t.events),b=(0,i.A)(t=>t.setEvents),E=(0,i.A)(t=>t.set),_=(0,i.A)(t=>t.get),x=(0,i.A)(t=>t.performance),w=e||m,S=a||g.connected||v.domElement,M=o.useMemo(()=>new y(w),[w]);return(0,i.C)(()=>{M.enabled&&M.update()},-1),o.useEffect(()=>(l&&M.connect(!0===l?S:l),M.connect(S),()=>void M.dispose()),[l,S,n,M,p]),o.useEffect(()=>{let t=t=>{p(),n&&x.regress(),s&&s(t)},e=t=>{c&&c(t)},r=t=>{f&&f(t)};return M.addEventListener("change",t),M.addEventListener("start",e),M.addEventListener("end",r),()=>{M.removeEventListener("start",e),M.removeEventListener("end",r),M.removeEventListener("change",t)}},[s,c,f,M,p,b]),o.useEffect(()=>{if(t){let t=_().controls;return E({controls:M}),()=>E({controls:t})}},[t,M]),o.createElement("primitive",r({ref:d,object:M,enableDamping:u},h))})},61212:(t,e,n)=>{"use strict";n.d(e,{A:()=>v});var r=n(95992);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw TypeError("Private element is not present on this object")}function a(t,e){return t.get(o(t,e))}function u(t,e,n){(function(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function l(t,e,n){return t.set(o(t,e),n),n}function s(t,e){if(t){if("string"==typeof t)return i(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}var c=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,v=function(){var t,e;return t=function t(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),u(this,c,new Map),u(this,f,new Map),u(this,h,function(t){return t}),u(this,d,function(){return{}}),u(this,p,function(){}),u(this,m,function(){})},e=[{key:"getObj",value:function(t){return a(c,this).get(a(h,this).call(this,t))}},{key:"getData",value:function(t){return a(f,this).get(t)}},{key:"entries",value:function(){var t;return((function(t){if(Array.isArray(t))return i(t)})(t=a(f,this).entries())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t){var e=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{o=(n=n.call(t)).next;for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0];return[e[1],n]})}},{key:"id",value:function(t){return l(h,this,(0,r.A)(t)),this}},{key:"onCreateObj",value:function(t){return l(d,this,t),this}},{key:"onUpdateObj",value:function(t){return l(p,this,t),this}},{key:"onRemoveObj",value:function(t){return l(m,this,t),this}},{key:"digest",value:function(t){var e=this;t.filter(function(t){return!a(c,e).has(a(h,e).call(e,t))}).forEach(function(t){var n=a(d,e).call(e,t);a(c,e).set(a(h,e).call(e,t),n),a(f,e).set(n,t)});var n=new Map(t.map(function(t){return[a(h,e).call(e,t),t]}));return a(c,this).forEach(function(t,r){n.has(r)?a(p,e).call(e,t,n.get(r)):(a(m,e).call(e,t,r),a(c,e).delete(r),a(f,e).delete(t))}),this}},{key:"clear",value:function(){return this.digest([]),this}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},61741:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(27144);function i(t,e){var n=t[0]*r.F2,i=t[1]*r.F2,o=e[0]*r.F2,a=e[1]*r.F2,u=(0,r.gn)(i),l=(0,r.F8)(i),s=(0,r.gn)(a),c=(0,r.F8)(a),f=u*(0,r.gn)(n),h=u*(0,r.F8)(n),d=s*(0,r.gn)(o),p=s*(0,r.F8)(o),m=2*(0,r.qR)((0,r.RZ)((0,r.bo)(a-i)+u*s*(0,r.bo)(o-n))),v=(0,r.F8)(m),g=m?function(t){var e=(0,r.F8)(t*=m)/v,n=(0,r.F8)(m-t)/v,i=n*f+e*d,o=n*h+e*p;return[(0,r.FP)(o,i)*r.uj,(0,r.FP)(n*l+e*c,(0,r.RZ)(i*i+o*o))*r.uj]}:function(){return[n*r.uj,i*r.uj]};return g.distance=m,g}},61933:(t,e,n)=>{"use strict";t.exports=n(16500)},66114:(t,e,n)=>{"use strict";n.d(e,{GS:()=>r,K:()=>s,YJ:()=>o});var r=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1}}),Back:Object.freeze({In:function(t){return 1===t?1:t*t*(2.70158*t-1.70158)},Out:function(t){return 0===t?0:--t*t*(2.70158*t+1.70158)+1},InOut:function(t){return(t*=2)<1?t*t*(3.5949095*t-2.5949095)*.5:.5*((t-=2)*t*(3.5949095*t+2.5949095)+2)}}),Bounce:Object.freeze({In:function(t){return 1-r.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Bounce.In(2*t):.5*r.Bounce.Out(2*t-1)+.5}}),generatePow:function(t){return void 0===t&&(t=4),t=(t=t<Number.EPSILON?Number.EPSILON:t)>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(2*e,t)/2:(1-Math.pow(2-2*e,t))/2+.5}}}}),i=function(){return performance.now()},o=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=i()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var o=this._tweens[n[r]],a=!e;o&&!1===o.update(t,a)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),a={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Utils.Linear;return e<0?o(t[0],t[1],r):e>1?o(t[n],t[n-1],n-r):o(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=a.Utils.Bernstein,u=0;u<=r;u++)n+=i(1-e,r-u)*i(e,u)*t[u]*o(r,u);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=a.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var o=(n-t)*.5,a=(r-e)*.5,u=i*i;return i*u*(2*e-2*n+o+a)+(-3*e+3*n-2*o-a)*u+o*i+e}}},u=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),l=new o,s=function(){function t(t,e){void 0===e&&(e=l),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=a.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=u.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(t,e){if(void 0===e&&(e=1e3),this._isPlaying)throw Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=e<0?0:e,this},t.prototype.duration=function(t){return void 0===t&&(t=1e3),this._duration=t<0?0:t,this},t.prototype.dynamic=function(t){return void 0===t&&(t=!1),this._isDynamic=t,this},t.prototype.start=function(t,e){if(void 0===t&&(t=i()),void 0===e&&(e=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||e){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var o in this._valuesEnd)r[o]=this._valuesEnd[o];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,e)}return this},t.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},t.prototype._setupProperties=function(t,e,n,r,i){for(var o in n){var a=t[o],u=Array.isArray(a),l=u?"array":typeof a,s=!u&&Array.isArray(n[o]);if("undefined"!==l&&"function"!==l){if(s){var c=n[o];if(0===c.length)continue;for(var f=[a],h=0,d=c.length;h<d;h+=1){var p=this._handleRelativeValue(a,c[h]);if(isNaN(p)){s=!1,console.warn("Found invalid interpolation list. Skipping.");break}f.push(p)}s&&(n[o]=f)}if(("object"===l||u)&&a&&!s){for(var m in e[o]=u?[]:{},a)e[o][m]=a[m];r[o]=u?[]:{};var c=n[o];if(!this._isDynamic){var v={};for(var m in c)v[m]=c[m];n[o]=c=v}this._setupProperties(a,e[o],c,r[o],i)}else(void 0===e[o]||i)&&(e[o]=a),u||(e[o]*=1),s?r[o]=n[o].slice().reverse():r[o]=e[o]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object)),this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=i()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=i()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this)),this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return void 0===t&&(t=l),this._group=t,this},t.prototype.delay=function(t){return void 0===t&&(t=0),this._delayTime=t,this},t.prototype.repeat=function(t){return void 0===t&&(t=0),this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return void 0===t&&(t=!1),this._yoyo=t,this},t.prototype.easing=function(t){return void 0===t&&(t=r.Linear.None),this._easingFunction=t,this},t.prototype.interpolation=function(t){return void 0===t&&(t=a.Linear),this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){var n,r,o=this;if(void 0===t&&(t=i()),void 0===e&&(e=!0),this._isPaused)return!0;var a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>a)return!1;e&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var u=t-this._startTime,l=this._duration+(null!==(n=this._repeatDelayTime)&&void 0!==n?n:this._delayTime),s=this._duration+this._repeat*l,c=function(){if(0===o._duration||u>s)return 1;var t=Math.trunc(u/l),e=Math.min((u-t*l)/o._duration,1);return 0===e&&u===o._duration?1:e}(),f=this._easingFunction(c);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,c),0===this._duration||u>=this._duration){if(this._repeat>0){var h=Math.min(Math.trunc((u-this._duration)/l)+1,this._repeat);for(r in isFinite(this._repeat)&&(this._repeat-=h),this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var d=0,p=this._chainedTweens.length;d<p;d++)this._chainedTweens[d].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var o=e[i]||0,a=n[i],u=Array.isArray(t[i]),l=Array.isArray(a);!u&&l?t[i]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(t[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];"string"==typeof n?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(n):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=e},t}();u.nextId,l.getAll.bind(l),l.removeAll.bind(l),l.add.bind(l),l.remove.bind(l),l.update.bind(l)},67428:(t,e,n)=>{"use strict";n.r(e),n.d(e,{computeMikkTSpaceTangents:()=>i,computeMorphedAttributes:()=>p,deepCloneAttribute:()=>u,deinterleaveAttribute:()=>s,deinterleaveGeometry:()=>c,estimateBytesUsed:()=>f,interleaveAttributes:()=>l,mergeAttributes:()=>a,mergeGeometries:()=>o,mergeGroups:()=>m,mergeVertices:()=>h,toCreasedNormals:()=>v,toTrianglesDrawMode:()=>d});var r=n(43264);function i(t,e,n=!0){if(!e||!e.isReady)throw Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!t.hasAttribute("position")||!t.hasAttribute("normal")||!t.hasAttribute("uv"))throw Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function o(t){if(t.normalized||t.isInterleavedBufferAttribute){let e=new Float32Array(t.count*t.itemSize);for(let n=0,r=0;n<t.count;n++)e[r++]=t.getX(n),e[r++]=t.getY(n),t.itemSize>2&&(e[r++]=t.getZ(n));return e}return t.array instanceof Float32Array?t.array:new Float32Array(t.array)}let a=t.index?t.toNonIndexed():t,u=e.generateTangents(o(a.attributes.position),o(a.attributes.normal),o(a.attributes.uv));if(n)for(let t=3;t<u.length;t+=4)u[t]*=-1;return a.setAttribute("tangent",new r.THS(u,4)),t!==a&&t.copy(a),t}function o(t,e=!1){let n=null!==t[0].index,i=new Set(Object.keys(t[0].attributes)),u=new Set(Object.keys(t[0].morphAttributes)),l={},s={},c=t[0].morphTargetsRelative,f=new r.LoY,h=0;for(let r=0;r<t.length;++r){let o=t[r],a=0;if(n!==(null!==o.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let t in o.attributes){if(!i.has(t))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+'. All geometries must have compatible attributes; make sure "'+t+'" attribute exists among all geometries, or in none of them.'),null;void 0===l[t]&&(l[t]=[]),l[t].push(o.attributes[t]),a++}if(a!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". Make sure all geometries have the same number of attributes."),null;if(c!==o.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let t in o.morphAttributes){if(!u.has(t))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[t]&&(s[t]=[]),s[t].push(o.morphAttributes[t])}if(e){let t;if(n)t=o.index.count;else{if(void 0===o.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+r+". The geometry must have either an index or a position attribute"),null;t=o.attributes.position.count}f.addGroup(h,t,r),h+=t}}if(n){let e=0,n=[];for(let r=0;r<t.length;++r){let i=t[r].index;for(let t=0;t<i.count;++t)n.push(i.getX(t)+e);e+=t[r].attributes.position.count}f.setIndex(n)}for(let t in l){let e=a(l[t]);if(!e)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+t+" attribute."),null;f.setAttribute(t,e)}for(let t in s){let e=s[t][0].length;if(0===e)break;f.morphAttributes=f.morphAttributes||{},f.morphAttributes[t]=[];for(let n=0;n<e;++n){let e=[];for(let r=0;r<s[t].length;++r)e.push(s[t][r][n]);let r=a(e);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+t+" morphAttribute."),null;f.morphAttributes[t].push(r)}}return f}function a(t){let e,n,i;let o=-1,a=0;for(let r=0;r<t.length;++r){let u=t[r];if(void 0===e&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=u.normalized),i!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===o&&(o=u.gpuType),o!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;a+=u.count*n}let u=new e(a),l=new r.THS(u,n,i),s=0;for(let e=0;e<t.length;++e){let r=t[e];if(r.isInterleavedBufferAttribute){let t=s/n;for(let e=0,i=r.count;e<i;e++)for(let i=0;i<n;i++){let n=r.getComponent(e,i);l.setComponent(e+t,i,n)}}else u.set(r.array,s);s+=r.count*n}return void 0!==o&&(l.gpuType=o),l}function u(t){return t.isInstancedInterleavedBufferAttribute||t.isInterleavedBufferAttribute?s(t):t.isInstancedBufferAttribute?new r.uWO().copy(t):new r.THS().copy(t)}function l(t){let e;let n=0,i=0;for(let r=0,o=t.length;r<o;++r){let o=t[r];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,i+=o.itemSize}let o=new r.eB$(new e(n),i),a=0,u=[],l=["getX","getY","getZ","getW"],s=["setX","setY","setZ","setW"];for(let e=0,n=t.length;e<n;e++){let n=t[e],i=n.itemSize,c=n.count,f=new r.eHs(o,i,a,n.normalized);u.push(f),a+=i;for(let t=0;t<c;t++)for(let e=0;e<i;e++)f[s[e]](t,n[l[e]](t))}return u}function s(t){let e;let n=t.data.array.constructor,i=t.count,o=t.itemSize,a=t.normalized,u=new n(i*o);e=t.isInstancedInterleavedBufferAttribute?new r.uWO(u,o,a,t.meshPerAttribute):new r.THS(u,o,a);for(let n=0;n<i;n++)e.setX(n,t.getX(n)),o>=2&&e.setY(n,t.getY(n)),o>=3&&e.setZ(n,t.getZ(n)),o>=4&&e.setW(n,t.getW(n));return e}function c(t){let e=t.attributes,n=t.morphTargets,r=new Map;for(let t in e){let n=e[t];n.isInterleavedBufferAttribute&&(r.has(n)||r.set(n,s(n)),e[t]=r.get(n))}for(let t in n){let e=n[t];e.isInterleavedBufferAttribute&&(r.has(e)||r.set(e,s(e)),n[t]=r.get(e))}}function f(t){let e=0;for(let n in t.attributes){let r=t.getAttribute(n);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}let n=t.getIndex();return e+(n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0)}function h(t,e=1e-4){e=Math.max(e,Number.EPSILON);let n={},r=t.getIndex(),i=t.getAttribute("position"),o=r?r.count:i.count,a=0,u=Object.keys(t.attributes),l={},s={},c=[],f=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"];for(let e=0,n=u.length;e<n;e++){let n=u[e],r=t.attributes[n];l[n]=new r.constructor(new r.array.constructor(r.count*r.itemSize),r.itemSize,r.normalized);let i=t.morphAttributes[n];i&&(s[n]||(s[n]=[]),i.forEach((t,e)=>{let r=new t.array.constructor(t.count*t.itemSize);s[n][e]=new t.constructor(r,t.itemSize,t.normalized)}))}let p=.5*e,m=Math.pow(10,Math.log10(1/e)),v=p*m;for(let e=0;e<o;e++){let i=r?r.getX(e):e,o="";for(let e=0,n=u.length;e<n;e++){let n=u[e],r=t.getAttribute(n),a=r.itemSize;for(let t=0;t<a;t++)o+=`${~~(r[f[t]](i)*m+v)},`}if(o in n)c.push(n[o]);else{for(let e=0,n=u.length;e<n;e++){let n=u[e],r=t.getAttribute(n),o=t.morphAttributes[n],c=r.itemSize,h=l[n],p=s[n];for(let t=0;t<c;t++){let e=f[t],n=d[t];if(h[n](a,r[e](i)),o)for(let t=0,r=o.length;t<r;t++)p[t][n](a,o[t][e](i))}}n[o]=a,c.push(a),a++}}let g=t.clone();for(let e in t.attributes){let t=l[e];if(g.setAttribute(e,new t.constructor(t.array.slice(0,a*t.itemSize),t.itemSize,t.normalized)),e in s)for(let t=0;t<s[e].length;t++){let n=s[e][t];g.morphAttributes[e][t]=new n.constructor(n.array.slice(0,a*n.itemSize),n.itemSize,n.normalized)}}return g.setIndex(c),g}function d(t,e){if(e===r.RJ4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e!==r.rYR&&e!==r.O49)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t;{let n=t.getIndex();if(null===n){let e=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let t=0;t<r.count;t++)e.push(t);t.setIndex(e),n=t.getIndex()}let i=n.count-2,o=[];if(e===r.rYR)for(let t=1;t<=i;t++)o.push(n.getX(0)),o.push(n.getX(t)),o.push(n.getX(t+1));else for(let t=0;t<i;t++)t%2==0?(o.push(n.getX(t)),o.push(n.getX(t+1)),o.push(n.getX(t+2))):(o.push(n.getX(t+2)),o.push(n.getX(t+1)),o.push(n.getX(t)));o.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=t.clone();return a.setIndex(o),a.clearGroups(),a}}function p(t){let e,n,i,o,a,u,l,s,c,f;let h=new r.Pq0,d=new r.Pq0,p=new r.Pq0,m=new r.Pq0,v=new r.Pq0,g=new r.Pq0,y=new r.Pq0,b=new r.Pq0,E=new r.Pq0;function _(t,e,n,r,i,o,a,u){h.fromBufferAttribute(e,i),d.fromBufferAttribute(e,o),p.fromBufferAttribute(e,a);let l=t.morphTargetInfluences;if(n&&l){y.set(0,0,0),b.set(0,0,0),E.set(0,0,0);for(let t=0,e=n.length;t<e;t++){let e=l[t],u=n[t];0!==e&&(m.fromBufferAttribute(u,i),v.fromBufferAttribute(u,o),g.fromBufferAttribute(u,a),r?(y.addScaledVector(m,e),b.addScaledVector(v,e),E.addScaledVector(g,e)):(y.addScaledVector(m.sub(h),e),b.addScaledVector(v.sub(d),e),E.addScaledVector(g.sub(p),e)))}h.add(y),d.add(b),p.add(E)}t.isSkinnedMesh&&(t.applyBoneTransform(i,h),t.applyBoneTransform(o,d),t.applyBoneTransform(a,p)),u[3*i+0]=h.x,u[3*i+1]=h.y,u[3*i+2]=h.z,u[3*o+0]=d.x,u[3*o+1]=d.y,u[3*o+2]=d.z,u[3*a+0]=p.x,u[3*a+1]=p.y,u[3*a+2]=p.z}let x=t.geometry,w=t.material,S=x.index,M=x.attributes.position,A=x.morphAttributes.position,P=x.morphTargetsRelative,j=x.attributes.normal,T=x.morphAttributes.position,O=x.groups,k=x.drawRange,F=new Float32Array(M.count*M.itemSize),I=new Float32Array(j.count*j.itemSize);if(null!==S){if(Array.isArray(w))for(o=0,u=O.length;o<u;o++)for(c=Math.max((s=O[o]).start,k.start),f=Math.min(s.start+s.count,k.start+k.count),a=c,l=f;a<l;a+=3)e=S.getX(a),_(t,M,A,P,e,n=S.getX(a+1),i=S.getX(a+2),F),_(t,j,T,P,e,n,i,I);else for(c=Math.max(0,k.start),f=Math.min(S.count,k.start+k.count),o=c,u=f;o<u;o+=3)e=S.getX(o),_(t,M,A,P,e,n=S.getX(o+1),i=S.getX(o+2),F),_(t,j,T,P,e,n,i,I)}else if(Array.isArray(w))for(o=0,u=O.length;o<u;o++)for(c=Math.max((s=O[o]).start,k.start),f=Math.min(s.start+s.count,k.start+k.count),a=c,l=f;a<l;a+=3)_(t,M,A,P,e=a,n=a+1,i=a+2,F),_(t,j,T,P,e,n,i,I);else for(c=Math.max(0,k.start),f=Math.min(M.count,k.start+k.count),o=c,u=f;o<u;o+=3)_(t,M,A,P,e=o,n=o+1,i=o+2,F),_(t,j,T,P,e,n,i,I);return{positionAttribute:M,normalAttribute:j,morphedPositionAttribute:new r.qtW(F,3),morphedNormalAttribute:new r.qtW(I,3)}}function m(t){if(0===t.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),t;let e=t.groups;if(e=e.sort((t,e)=>t.materialIndex!==e.materialIndex?t.materialIndex-e.materialIndex:t.start-e.start),null===t.getIndex()){let e=t.getAttribute("position"),n=[];for(let t=0;t<e.count;t+=3)n.push(t,t+1,t+2);t.setIndex(n)}let n=t.getIndex(),r=[];for(let t=0;t<e.length;t++){let i=e[t],o=i.start,a=o+i.count;for(let t=o;t<a;t++)r.push(n.getX(t))}t.dispose(),t.setIndex(r);let i=0;for(let t=0;t<e.length;t++){let n=e[t];n.start=i,i+=n.count}let o=e[0];t.groups=[o];for(let n=1;n<e.length;n++){let r=e[n];o.materialIndex===r.materialIndex?o.count+=r.count:(o=r,t.groups.push(o))}return t}function v(t,e=Math.PI/3){let n=Math.cos(e),i=(1+1e-10)*100,o=[new r.Pq0,new r.Pq0,new r.Pq0],a=new r.Pq0,u=new r.Pq0,l=new r.Pq0,s=new r.Pq0;function c(t){let e=~~(t.x*i),n=~~(t.y*i),r=~~(t.z*i);return`${e},${n},${r}`}let f=t.index?t.toNonIndexed():t,h=f.attributes.position,d={};for(let t=0,e=h.count/3;t<e;t++){let e=3*t,n=o[0].fromBufferAttribute(h,e+0),i=o[1].fromBufferAttribute(h,e+1),l=o[2].fromBufferAttribute(h,e+2);a.subVectors(l,i),u.subVectors(n,i);let s=new r.Pq0().crossVectors(a,u).normalize();for(let t=0;t<3;t++){let e=c(o[t]);e in d||(d[e]=[]),d[e].push(s)}}let p=new Float32Array(3*h.count),m=new r.THS(p,3,!1);for(let t=0,e=h.count/3;t<e;t++){let e=3*t,r=o[0].fromBufferAttribute(h,e+0),i=o[1].fromBufferAttribute(h,e+1),f=o[2].fromBufferAttribute(h,e+2);a.subVectors(f,i),u.subVectors(r,i),l.crossVectors(a,u).normalize();for(let t=0;t<3;t++){let r=d[c(o[t])];s.set(0,0,0);for(let t=0,e=r.length;t<e;t++){let e=r[t];l.dot(e)>n&&s.add(e)}s.normalize(),m.setXYZ(e+t,s.x,s.y,s.z)}}return f.setAttribute("normal",m),f}},67558:(t,e,n)=>{"use strict";n.d(e,{Hl:()=>h});var r=n(76552),i=n(12115),o=n(97431);function a(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}let u=["x","y","top","bottom","left","right","width","height"],l=(t,e)=>u.every(n=>t[n]===e[n]);var s=n(26354),c=n(95155);function f({ref:t,children:e,fallback:n,resize:u,style:s,gl:f,events:h=r.f,eventSource:d,eventPrefix:p,shadows:m,linear:v,flat:g,legacy:y,orthographic:b,frameloop:E,dpr:_,performance:x,raycaster:w,camera:S,scene:M,onPointerMissed:A,onCreated:P,...j}){i.useMemo(()=>(0,r.e)(o),[]);let T=(0,r.u)(),[O,k]=function({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o,u,s;let c=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[f,h]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f,orientationHandler:null}),p=t?"number"==typeof t?t:t.scroll:null,m=t?"number"==typeof t?t:t.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[g,y,b]=(0,i.useMemo)(()=>{let t=()=>{if(!d.current.element)return;let{left:t,top:e,width:n,height:i,bottom:o,right:a,x:u,y:s}=d.current.element.getBoundingClientRect(),c={left:t,top:e,width:n,height:i,bottom:o,right:a,x:u,y:s};d.current.element instanceof HTMLElement&&r&&(c.height=d.current.element.offsetHeight,c.width=d.current.element.offsetWidth),Object.freeze(c),v.current&&!l(d.current.lastBounds,c)&&h(d.current.lastBounds=c)};return[t,m?a(t,m):t,p?a(t,p):t]},[h,r,p,m]);function E(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(t=>t.removeEventListener("scroll",b,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null),d.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",d.current.orientationHandler))}function _(){d.current.element&&(d.current.resizeObserver=new c(b),d.current.resizeObserver.observe(d.current.element),e&&d.current.scrollContainers&&d.current.scrollContainers.forEach(t=>t.addEventListener("scroll",b,{capture:!0,passive:!0})),d.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",d.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",d.current.orientationHandler))}return o=b,u=!!e,(0,i.useEffect)(()=>{if(u)return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)},[o,u]),s=y,(0,i.useEffect)(()=>(window.addEventListener("resize",s),()=>void window.removeEventListener("resize",s)),[s]),(0,i.useEffect)(()=>{E(),_()},[e,b,y]),(0,i.useEffect)(()=>E,[]),[t=>{t&&t!==d.current.element&&(E(),d.current.element=t,d.current.scrollContainers=function t(e){let n=[];if(!e||e===document.body)return n;let{overflow:r,overflowX:i,overflowY:o}=window.getComputedStyle(e);return[r,i,o].some(t=>"auto"===t||"scroll"===t)&&n.push(e),[...n,...t(e.parentElement)]}(t),_())},f,g]}({scroll:!0,debounce:{scroll:50,resize:0},...u}),F=i.useRef(null),I=i.useRef(null);i.useImperativeHandle(t,()=>F.current);let C=(0,r.a)(A),[z,R]=i.useState(!1),[N,L]=i.useState(!1);if(z)throw z;if(N)throw N;let U=i.useRef(null);(0,r.b)(()=>{let t=F.current;k.width>0&&k.height>0&&t&&(U.current||(U.current=(0,r.c)(t)),async function(){await U.current.configure({gl:f,scene:M,events:h,shadows:m,linear:v,flat:g,legacy:y,orthographic:b,frameloop:E,dpr:_,performance:x,raycaster:w,camera:S,size:k,onPointerMissed:(...t)=>null==C.current?void 0:C.current(...t),onCreated:t=>{null==t.events.connect||t.events.connect(d?(0,r.i)(d)?d.current:d:I.current),p&&t.setEvents({compute:(t,e)=>{let n=t[p+"X"],r=t[p+"Y"];e.pointer.set(n/e.size.width*2-1,-(2*(r/e.size.height))+1),e.raycaster.setFromCamera(e.pointer,e.camera)}}),null==P||P(t)}}),U.current.render((0,c.jsx)(T,{children:(0,c.jsx)(r.E,{set:L,children:(0,c.jsx)(i.Suspense,{fallback:(0,c.jsx)(r.B,{set:R}),children:null!=e?e:null})})}))}())}),i.useEffect(()=>{let t=F.current;if(t)return()=>(0,r.d)(t)},[]);let D=d?"none":"auto";return(0,c.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...s},...j,children:(0,c.jsx)("div",{ref:O,style:{width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:F,style:{display:"block"},children:n})})})}function h(t){return(0,c.jsx)(s.Af,{children:(0,c.jsx)(f,{...t})})}n(61933),n(45220),n(74342)},69340:(t,e,n)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}n.d(e,{A:()=>a});var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(t){return{keyAccessor:t,isProp:!(t instanceof Function)}}),l=t.reduce(function(t,e){var r=t,o=e;return u.forEach(function(t,e){var a,l=t.keyAccessor;if(t.isProp){var s=o,c=s[l],f=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(({}).hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||({}).propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(s,[l].map(i));a=c,o=f}else a=l(o,e);e+1<u.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o}),t},{});n instanceof Function&&function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===u.length?Object.keys(e).forEach(function(t){return e[t]=n(e[t])}):Object.values(e).forEach(function(e){return t(e,r+1)})}(l);var s=l;return a&&(s=[],function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===u.length?s.push({keys:n,vals:e}):Object.entries(e).forEach(function(e){var i=function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{o=(n=n.call(t)).next;for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(e,2)||o(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0];return t(i[1],[].concat(function(t){if(Array.isArray(t))return r(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||o(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]))})}(l),e instanceof Array&&0===e.length&&1===s.length&&(s[0].keys=[])),s}},71683:(t,e,n)=>{"use strict";n.d(e,{ph:()=>r});class r{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let e=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,e=this._n,n,r,i,o=0;if(e>0){for(o=t[--e];e>0&&(o=(n=o)+(r=t[--e]),!(i=r-(o-n))););e>0&&(i<0&&t[e-1]<0||i>0&&t[e-1]>0)&&(n=o+(r=2*i),r==n-o&&(o=n))}return o}}},74342:(t,e,n)=>{"use strict";t.exports=n(77319)},75352:(t,e,n)=>{"use strict";let r,i;n.d(e,{X:()=>S});var o=n(43264),a=n(25479),u=n(21312);let l=new o.IUQ,s=new o.Pq0,c=new o.Pq0,f=new o.IUQ,h=new o.IUQ,d=new o.IUQ,p=new o.Pq0,m=new o.kn4,v=new o.cZY,g=new o.Pq0,y=new o.NRn,b=new o.iyt,E=new o.IUQ;function _(t,e,n){return E.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),E.multiplyScalar(1/E.w),E.x=i/n.width,E.y=i/n.height,E.applyMatrix4(t.projectionMatrixInverse),E.multiplyScalar(1/E.w),Math.abs(Math.max(E.x,E.y))}class x extends o.eaF{constructor(t=new a.n,e=new u.G({color:0xffffff*Math.random()})){super(t,e),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){let t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,r=new Float32Array(2*e.count);for(let t=0,i=0,o=e.count;t<o;t++,i+=2)s.fromBufferAttribute(e,t),c.fromBufferAttribute(n,t),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+s.distanceTo(c);let i=new o.LuO(r,2,1);return t.setAttribute("instanceDistanceStart",new o.eHs(i,1,0)),t.setAttribute("instanceDistanceEnd",new o.eHs(i,1,1)),this}raycast(t,e){let n,a;let u=this.material.worldUnits,l=t.camera;null!==l||u||console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');let s=void 0!==t.params.Line2&&t.params.Line2.threshold||0;r=t.ray;let c=this.matrixWorld,E=this.geometry,x=this.material;if(i=x.linewidth+s,null===E.boundingSphere&&E.computeBoundingSphere(),b.copy(E.boundingSphere).applyMatrix4(c),u)n=.5*i;else{let t=Math.max(l.near,b.distanceToPoint(r.origin));n=_(l,t,x.resolution)}if(b.radius+=n,!1!==r.intersectsSphere(b)){if(null===E.boundingBox&&E.computeBoundingBox(),y.copy(E.boundingBox).applyMatrix4(c),u)a=.5*i;else{let t=Math.max(l.near,y.distanceToPoint(r.origin));a=_(l,t,x.resolution)}y.expandByScalar(a),!1!==r.intersectsBox(y)&&(u?function(t,e){let n=t.matrixWorld,a=t.geometry,u=a.attributes.instanceStart,l=a.attributes.instanceEnd,s=Math.min(a.instanceCount,u.count);for(let a=0;a<s;a++){v.start.fromBufferAttribute(u,a),v.end.fromBufferAttribute(l,a),v.applyMatrix4(n);let s=new o.Pq0,c=new o.Pq0;r.distanceSqToSegment(v.start,v.end,c,s),c.distanceTo(s)<.5*i&&e.push({point:c,pointOnLine:s,distance:r.origin.distanceTo(c),object:t,face:null,faceIndex:a,uv:null,uv1:null})}}(this,e):function(t,e,n){let a=e.projectionMatrix,u=t.material.resolution,l=t.matrixWorld,s=t.geometry,c=s.attributes.instanceStart,y=s.attributes.instanceEnd,b=Math.min(s.instanceCount,c.count),E=-e.near;r.at(1,d),d.w=1,d.applyMatrix4(e.matrixWorldInverse),d.applyMatrix4(a),d.multiplyScalar(1/d.w),d.x*=u.x/2,d.y*=u.y/2,d.z=0,p.copy(d),m.multiplyMatrices(e.matrixWorldInverse,l);for(let e=0;e<b;e++){if(f.fromBufferAttribute(c,e),h.fromBufferAttribute(y,e),f.w=1,h.w=1,f.applyMatrix4(m),h.applyMatrix4(m),f.z>E&&h.z>E)continue;if(f.z>E){let t=f.z-h.z,e=(f.z-E)/t;f.lerp(h,e)}else if(h.z>E){let t=h.z-f.z,e=(h.z-E)/t;h.lerp(f,e)}f.applyMatrix4(a),h.applyMatrix4(a),f.multiplyScalar(1/f.w),h.multiplyScalar(1/h.w),f.x*=u.x/2,f.y*=u.y/2,h.x*=u.x/2,h.y*=u.y/2,v.start.copy(f),v.start.z=0,v.end.copy(h),v.end.z=0;let s=v.closestPointToPointParameter(p,!0);v.at(s,g);let d=o.cj9.lerp(f.z,h.z,s),b=d>=-1&&d<=1,_=p.distanceTo(g)<.5*i;if(b&&_){v.start.fromBufferAttribute(c,e),v.end.fromBufferAttribute(y,e),v.start.applyMatrix4(l),v.end.applyMatrix4(l);let i=new o.Pq0,a=new o.Pq0;r.distanceSqToSegment(v.start,v.end,a,i),n.push({point:a,pointOnLine:i,distance:r.origin.distanceTo(a),object:t,face:null,faceIndex:e,uv:null,uv1:null})}}}(this,l,e))}}onBeforeRender(t){let e=this.material.uniforms;e&&e.resolution&&(t.getViewport(l),this.material.uniforms.resolution.value.set(l.z,l.w))}}var w=n(77317);class S extends x{constructor(t=new w.v,e=new u.G({color:0xffffff*Math.random()})){super(t,e),this.isLine2=!0,this.type="Line2"}}},76552:(t,e,n)=>{"use strict";let r,i,o,a,u;n.d(e,{A:()=>ts,B:()=>L,C:()=>tc,E:()=>U,a:()=>R,b:()=>z,c:()=>tz,d:()=>tN,e:()=>tE,f:()=>t$,i:()=>I,u:()=>N});var l=n(43264),s=n(97431),c=n(12115),f=n(61933),h=n(45643);let d=t=>{let e;let n=new Set,r=(t,r)=>{let i="function"==typeof t?t(e):t;if(!Object.is(i,e)){let t=e;e=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},e,i),n.forEach(n=>n(e,t))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>a,subscribe:t=>(n.add(t),()=>n.delete(t))},a=e=t(r,i,o);return o},p=t=>t?d(t):d,{useSyncExternalStoreWithSelector:m}=h,v=t=>t,g=(t,e)=>{let n=p(t),r=(t,r=e)=>(function(t,e=v,n){let r=m(t.subscribe,t.getState,t.getInitialState,e,n);return c.useDebugValue(r),r})(n,t,r);return Object.assign(r,n),r},y=(t,e)=>t?g(t,e):g;var b=n(45220),E=n.n(b),_=n(74342);let x=t=>"object"==typeof t&&"function"==typeof t.then,w=[];function S(t,e,n=(t,e)=>t===e){if(t===e)return!0;if(!t||!e)return!1;let r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function M(t,e=null,n=!1,r={}){for(let i of(null===e&&(e=[t]),w))if(S(e,i.keys,i.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return r.lifespan&&r.lifespan>0&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.remove,r.lifespan)),i.response;if(!n)throw i.promise}let i={keys:e,equal:r.equal,remove:()=>{let t=w.indexOf(i);-1!==t&&w.splice(t,1)},promise:(x(t)?t:t(...e)).then(t=>{i.response=t,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(t=>i.error=t)};if(w.push(i),!n)throw i.promise}let A=(t,e,n)=>M(t,e,!1,n),P=(t,e,n)=>void M(t,e,!0,n),j=t=>{if(void 0===t||0===t.length)w.splice(0,w.length);else{let e=w.find(e=>S(t,e.keys,e.equal));e&&e.remove()}};var T=n(95155),O=n(26354);function k(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}n(49509),c.act;let F=t=>t&&t.isOrthographicCamera,I=t=>t&&t.hasOwnProperty("current"),C=t=>null!=t&&("string"==typeof t||"number"==typeof t||t.isColor),z=((t,e)=>"undefined"!=typeof window&&((null==(t=window.document)?void 0:t.createElement)||(null==(e=window.navigator)?void 0:e.product)==="ReactNative"))()?c.useLayoutEffect:c.useEffect;function R(t){let e=c.useRef(t);return z(()=>void(e.current=t),[t]),e}function N(){let t=(0,O.u5)(),e=(0,O.y3)();return c.useMemo(()=>({children:n})=>{let r=(0,O.Nz)(t,!0,t=>t.type===c.StrictMode)?c.StrictMode:c.Fragment;return(0,T.jsx)(r,{children:(0,T.jsx)(e,{children:n})})},[t,e])}function L({set:t}){return z(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let U=(t=>((t=class extends c.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),t))();function D(t){var e;let n="undefined"!=typeof window?null!=(e=window.devicePixelRatio)?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function B(t){var e;return null==(e=t.__r3f)?void 0:e.root.getState()}let H={obj:t=>t===Object(t)&&!H.arr(t)&&"function"!=typeof t,fun:t=>"function"==typeof t,str:t=>"string"==typeof t,num:t=>"number"==typeof t,boo:t=>"boolean"==typeof t,und:t=>void 0===t,nul:t=>null===t,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let o;if(typeof t!=typeof e||!!t!=!!e)return!1;if(H.str(t)||H.num(t)||H.boo(t))return t===e;let a=H.obj(t);if(a&&"reference"===r)return t===e;let u=H.arr(t);if(u&&"reference"===n)return t===e;if((u||a)&&t===e)return!0;for(o in t)if(!(o in e))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?e:t)if(!H.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(H.und(o)){if(u&&0===t.length&&0===e.length||a&&0===Object.keys(t).length&&0===Object.keys(e).length)return!0;if(t!==e)return!1}return!0}},q=["children","key","ref"];function V(t,e,n,r){let i=null==t?void 0:t.__r3f;return!i&&(i={root:e,type:n,parent:null,children:[],props:function(t){let e={};for(let n in t)q.includes(n)||(e[n]=t[n]);return e}(r),object:t,eventCount:0,handlers:{},isHidden:!1},t&&(t.__r3f=i)),i}function W(t,e){let n=t[e];if(!e.includes("-"))return{root:t,key:e,target:n};for(let i of(n=t,e.split("-"))){var r;e=i,t=n,n=null==(r=n)?void 0:r[e]}return{root:t,key:e,target:n}}let G=/-\d+$/;function Y(t,e){if(H.str(e.props.attach)){if(G.test(e.props.attach)){let n=e.props.attach.replace(G,""),{root:r,key:i}=W(t.object,n);Array.isArray(r[i])||(r[i]=[])}let{root:n,key:r}=W(t.object,e.props.attach);e.previousAttach=n[r],n[r]=e.object}else H.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function Z(t,e){if(H.str(e.props.attach)){let{root:n,key:r}=W(t.object,e.props.attach),i=e.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==e.previousAttach||e.previousAttach(t.object,e.object);delete e.previousAttach}let X=[...q,"args","dispose","attach","object","onUpdate","dispose"],$=new Map,K=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Q=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function J(t,e){var n,r;let i=t.__r3f,o=i&&k(i).getState(),a=null==i?void 0:i.eventCount;for(let n in e){let a=e[n];if(X.includes(n))continue;if(i&&Q.test(n)){"function"==typeof a?i.handlers[n]=a:delete i.handlers[n],i.eventCount=Object.keys(i.handlers).length;continue}if(void 0===a)continue;let{root:u,key:s,target:c}=W(t,n);c instanceof l.zgK&&a instanceof l.zgK?c.mask=a.mask:c instanceof l.Q1f&&C(a)?c.set(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"function"==typeof c.copy&&null!=a&&a.constructor&&c.constructor===a.constructor?c.copy(a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&Array.isArray(a)?"function"==typeof c.fromArray?c.fromArray(a):c.set(...a):null!==c&&"object"==typeof c&&"function"==typeof c.set&&"number"==typeof a?"function"==typeof c.setScalar?c.setScalar(a):c.set(a):(u[s]=a,o&&!o.linear&&K.includes(s)&&null!=(r=u[s])&&r.isTexture&&u[s].format===l.GWd&&u[s].type===l.OUM&&(u[s].colorSpace=l.er$))}if(null!=i&&i.parent&&null!=o&&o.internal&&null!=(n=i.object)&&n.isObject3D&&a!==i.eventCount){let t=i.object,e=o.internal.interaction.indexOf(t);e>-1&&o.internal.interaction.splice(e,1),i.eventCount&&null!==t.raycast&&o.internal.interaction.push(t)}return i&&void 0===i.props.attach&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&tt(i),t}function tt(t){var e;if(!t.parent)return;null==t.props.onUpdate||t.props.onUpdate(t.object);let n=null==(e=t.root)?void 0:null==e.getState?void 0:e.getState();n&&0===n.internal.frames&&n.invalidate()}function te(t,e){t.manual||(F(t)?(t.left=-(e.width/2),t.right=e.width/2,t.top=e.height/2,t.bottom=-(e.height/2)):t.aspect=e.width/e.height,t.updateProjectionMatrix())}let tn=t=>null==t?void 0:t.isObject3D;function tr(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ti(t,e,n,r){let i=n.get(e);i&&(n.delete(e),0===n.size&&(t.delete(r),i.target.releasePointerCapture(r)))}let to=t=>!!(null!=t&&t.render),ta=c.createContext(null),tu=(t,e)=>{let n=y((n,r)=>{let i;let o=new l.Pq0,a=new l.Pq0,u=new l.Pq0;function s(t=r().camera,e=a,n=r().size){let{width:i,height:l,top:c,left:f}=n,h=i/l;e.isVector3?u.copy(e):u.set(...e);let d=t.getWorldPosition(o).distanceTo(u);if(F(t))return{width:i/t.zoom,height:l/t.zoom,top:c,left:f,factor:1,distance:d,aspect:h};{let e=2*Math.tan(t.fov*Math.PI/180/2)*d,n=i/l*e;return{width:n,height:e,top:c,left:f,factor:i/n,distance:d,aspect:h}}}let f=t=>n(e=>({performance:{...e.performance,current:t}})),h=new l.I9Y;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(e=1)=>t(r(),e),advance:(t,n)=>e(t,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new l.zD7,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let t=r();i&&clearTimeout(i),t.performance.current!==t.performance.min&&f(t.performance.min),i=setTimeout(()=>f(r().performance.max),t.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:t=>n(e=>({...e,events:{...e.events,...t}})),setSize:(t,e,i=0,o=0)=>{let u=r().camera,l={width:t,height:e,top:i,left:o};n(t=>({size:l,viewport:{...t.viewport,...s(u,a,l)}}))},setDpr:t=>n(e=>{let n=D(t);return{viewport:{...e.viewport,dpr:n,initialDpr:e.viewport.initialDpr||n}}}),setFrameloop:(t="always")=>{let e=r().clock;e.stop(),e.elapsedTime=0,"never"!==t&&(e.start(),e.elapsedTime=0),n(()=>({frameloop:t}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:c.createRef(),active:!1,frames:0,priority:0,subscribe:(t,e,n)=>{let i=r().internal;return i.priority=i.priority+ +(e>0),i.subscribers.push({ref:t,priority:e,store:n}),i.subscribers=i.subscribers.sort((t,e)=>t.priority-e.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-+(e>0),n.subscribers=n.subscribers.filter(e=>e.ref!==t))}}}}}),r=n.getState(),i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:t,size:e,viewport:r,gl:u,set:l}=n.getState();if(e.width!==i.width||e.height!==i.height||r.dpr!==o){i=e,o=r.dpr,te(t,e),r.dpr>0&&u.setPixelRatio(r.dpr);let n="undefined"!=typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(e.width,e.height,n)}t!==a&&(a=t,l(e=>({viewport:{...e.viewport,...e.viewport.getCurrentViewport(t)}})))}),n.subscribe(e=>t(e)),n};function tl(){let t=c.useContext(ta);if(!t)throw Error("R3F: Hooks can only be used within the Canvas component!");return t}function ts(t=t=>t,e){return tl()(t,e)}function tc(t,e=0){let n=tl(),r=n.getState().internal.subscribe,i=R(t);return z(()=>r(i,e,n),[e,r,n]),null}let tf=new WeakMap,th=t=>{var e;return"function"==typeof t&&(null==t?void 0:null==(e=t.prototype)?void 0:e.constructor)===t};function td(t,e){return function(n,...r){let i;return th(n)?(i=tf.get(n))||(i=new n,tf.set(n,i)):i=n,t&&t(i),Promise.all(r.map(t=>new Promise((n,r)=>i.load(t,t=>{tn(null==t?void 0:t.scene)&&Object.assign(t,function(t){let e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}(t.scene)),n(t)},e,e=>r(Error(`Could not load ${t}: ${null==e?void 0:e.message}`))))))}}function tp(t,e,n,r){let i=Array.isArray(e)?e:[e],o=A(td(n,r),[t,...i],{equal:H.equ});return Array.isArray(e)?o:o[0]}tp.preload=function(t,e,n){let r=Array.isArray(e)?e:[e];return P(td(n),[t,...r])},tp.clear=function(t,e){return j([t,...Array.isArray(e)?e:[e]])};let tm={},tv=/^three(?=[A-Z])/,tg=t=>`${t[0].toUpperCase()}${t.slice(1)}`,ty=0,tb=t=>"function"==typeof t;function tE(t){if(tb(t)){let e=`${ty++}`;return tm[e]=t,e}Object.assign(tm,t)}function t_(t,e){let n=tg(t),r=tm[n];if("primitive"!==t&&!r)throw Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===t&&!e.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==e.args&&!Array.isArray(e.args))throw Error("R3F: The args prop must be an array!")}function tx(t){if(t.isHidden){var e;t.props.attach&&null!=(e=t.parent)&&e.object?Y(t.parent,t):tn(t.object)&&!1!==t.props.visible&&(t.object.visible=!0),t.isHidden=!1,tt(t)}}function tw(t,e,n){let r=e.root.getState();if(t.parent||t.object===r.scene){if(!e.object){var i,o;let t=tm[tg(e.type)];e.object=null!=(i=e.props.object)?i:new t(...null!=(o=e.props.args)?o:[]),e.object.__r3f=e}if(J(e.object,e.props),e.props.attach)Y(t,e);else if(tn(e.object)&&tn(t.object)){let r=t.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){let n=t.object.children.indexOf(e.object);-1!==n?(t.object.children.splice(n,1),t.object.children.splice(n<r?r-1:r,0,e.object)):(e.object.parent=t.object,t.object.children.splice(r,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object}))}else t.object.add(e.object)}for(let t of e.children)tw(e,t);tt(e)}}function tS(t,e){e&&(e.parent=t,t.children.push(e),tw(t,e))}function tM(t,e,n){if(!e||!n)return;e.parent=t;let r=t.children.indexOf(n);-1!==r?t.children.splice(r,0,e):t.children.push(e),tw(t,e,n)}function tA(t){if("function"==typeof t.dispose){let e=()=>{try{t.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?e():(0,_.unstable_scheduleCallback)(_.unstable_IdlePriority,e)}}function tP(t,e,n){if(!e)return;e.parent=null;let r=t.children.indexOf(e);-1!==r&&t.children.splice(r,1),e.props.attach?Z(t,e):tn(e.object)&&tn(t.object)&&(t.object.remove(e.object),function(t,e){let{internal:n}=t.getState();n.interaction=n.interaction.filter(t=>t!==e),n.initialHits=n.initialHits.filter(t=>t!==e),n.hovered.forEach((t,r)=>{(t.eventObject===e||t.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((t,r)=>{ti(n.capturedMap,e,t,r)})}(k(e),e.object));let i=null!==e.props.dispose&&!1!==n;for(let t=e.children.length-1;t>=0;t--){let n=e.children[t];tP(e,n,i)}e.children.length=0,delete e.object.__r3f,i&&"primitive"!==e.type&&"Scene"!==e.object.type&&tA(e.object),void 0===n&&tt(e)}let tj=[],tT=()=>{},tO={},tk=0,tF=function(t){let e=E()(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:c.version}),e}({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(t,e,n){var r;return t_(t=tg(t)in tm?t:t.replace(tv,""),e),"primitive"===t&&null!=(r=e.object)&&r.__r3f&&delete e.object.__r3f,V(e.object,n,t,e)},removeChild:tP,appendChild:tS,appendInitialChild:tS,insertBefore:tM,appendChildToContainer(t,e){let n=t.getState().scene.__r3f;e&&n&&tS(n,e)},removeChildFromContainer(t,e){let n=t.getState().scene.__r3f;e&&n&&tP(n,e)},insertInContainerBefore(t,e,n){let r=t.getState().scene.__r3f;e&&n&&r&&tM(r,e,n)},getRootHostContext:()=>tO,getChildHostContext:()=>tO,commitUpdate(t,e,n,r,i){var o,a,u;t_(e,r);let l=!1;if("primitive"===t.type&&n.object!==r.object?l=!0:(null==(o=r.args)?void 0:o.length)!==(null==(a=n.args)?void 0:a.length)?l=!0:null!=(u=r.args)&&u.some((t,e)=>{var r;return t!==(null==(r=n.args)?void 0:r[e])})&&(l=!0),l)tj.push([t,{...r},i]);else{let e=function(t,e){let n={};for(let r in e)if(!X.includes(r)&&!H.equ(e[r],t.props[r]))for(let t in n[r]=e[r],e)t.startsWith(`${r}-`)&&(n[t]=e[t]);for(let r in t.props){if(X.includes(r)||e.hasOwnProperty(r))continue;let{root:i,key:o}=W(t.object,r);if(i.constructor&&0===i.constructor.length){let t=function(t){let e=$.get(t.constructor);try{e||(e=new t.constructor,$.set(t.constructor,e))}catch(t){}return e}(i);H.und(t)||(n[o]=t[o])}else n[o]=0}return n}(t,r);Object.keys(e).length&&(Object.assign(t.props,e),J(t.object,e))}(null===i.sibling||(4&i.flags)==0)&&function(){for(let[t]of tj){let e=t.parent;if(e)for(let n of(t.props.attach?Z(e,t):tn(t.object)&&tn(e.object)&&e.object.remove(t.object),t.children))n.props.attach?Z(t,n):tn(n.object)&&tn(t.object)&&t.object.remove(n.object);t.isHidden&&tx(t),t.object.__r3f&&delete t.object.__r3f,"primitive"!==t.type&&tA(t.object)}for(let[n,r,i]of tj){n.props=r;let o=n.parent;if(o){var t,e;let r=tm[tg(n.type)];for(let a of(n.object=null!=(t=n.props.object)?t:new r(...null!=(e=n.props.args)?e:[]),n.object.__r3f=n,!function(t,e){for(let n of[t,t.alternate])if(null!==n){if("function"==typeof n.ref){null==n.refCleanup||n.refCleanup();let t=n.ref(e);"function"==typeof t&&(n.refCleanup=t)}else n.ref&&(n.ref.current=e)}}(i,n.object),J(n.object,n.props),n.props.attach?Y(o,n):tn(n.object)&&tn(o.object)&&o.object.add(n.object),n.children))a.props.attach?Y(n,a):tn(a.object)&&tn(n.object)&&n.object.add(a.object);tt(n)}}tj.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>null==t?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>V(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(t){if(!t.isHidden){var e;t.props.attach&&null!=(e=t.parent)&&e.object?Z(t.parent,t):tn(t.object)&&(t.object.visible=!1),t.isHidden=!0,tt(t)}},unhideInstance:tx,createTextInstance:tT,hideTextInstance:tT,unhideTextInstance:tT,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:c.createContext(null),setCurrentUpdatePriority(t){tk=t},getCurrentUpdatePriority:()=>tk,resolveUpdatePriority(){var t;if(0!==tk)return tk;switch("undefined"!=typeof window&&(null==(t=window.event)?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return f.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return f.ContinuousEventPriority;default:return f.DefaultEventPriority}},resetFormInstance(){}}),tI=new Map,tC={objects:"shallow",strict:!1};function tz(t){let e,n;let r=tI.get(t),i=null==r?void 0:r.fiber,o=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,u=o||tu(tY,tZ),c=i||tF.createContainer(u,f.ConcurrentRoot,null,!1,null,"",a,a,a,null);r||tI.set(t,{fiber:c,store:u});let h=!1,d=null;return{async configure(r={}){var i,o;let a;d=new Promise(t=>a=t);let{gl:c,size:f,scene:p,events:m,onCreated:v,shadows:g=!1,linear:y=!1,flat:b=!1,legacy:E=!1,orthographic:_=!1,frameloop:x="always",dpr:w=[1,2],performance:S,raycaster:M,camera:A,onPointerMissed:P}=r,j=u.getState(),T=j.gl;if(!j.gl){let e={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof c?await c(e):c;T=to(n)?n:new s.WebGLRenderer({...e,...c}),j.set({gl:T})}let O=j.raycaster;O||j.set({raycaster:O=new l.tBo});let{params:k,...F}=M||{};if(H.equ(F,O,tC)||J(O,{...F}),H.equ(k,O.params,tC)||J(O,{params:{...O.params,...k}}),!j.camera||j.camera===n&&!H.equ(n,A,tC)){n=A;let t=null==A?void 0:A.isCamera,e=t?A:_?new l.qUd(0,0,0,0,.1,1e3):new l.ubm(75,0,.1,1e3);t||(e.position.z=5,A&&(J(e,A),!e.manual&&("aspect"in A||"left"in A||"right"in A||"bottom"in A||"top"in A)&&(e.manual=!0,e.updateProjectionMatrix())),j.camera||null!=A&&A.rotation||e.lookAt(0,0,0)),j.set({camera:e}),O.camera=e}if(!j.scene){let t;null!=p&&p.isScene?V(t=p,u,"",{}):(V(t=new l.Z58,u,"",{}),p&&J(t,p)),j.set({scene:t})}m&&!j.events.handlers&&j.set({events:m(u)});let I=function(t,e){if(!e&&"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&t.parentElement){let{width:e,height:n,top:r,left:i}=t.parentElement.getBoundingClientRect();return{width:e,height:n,top:r,left:i}}return!e&&"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?{width:t.width,height:t.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...e}}(t,f);if(H.equ(I,j.size,tC)||j.setSize(I.width,I.height,I.top,I.left),w&&j.viewport.dpr!==D(w)&&j.setDpr(w),j.frameloop!==x&&j.setFrameloop(x),j.onPointerMissed||j.set({onPointerMissed:P}),S&&!H.equ(S,j.performance,tC)&&j.set(t=>({performance:{...t.performance,...S}})),!j.xr){let t=(t,e)=>{let n=u.getState();"never"!==n.frameloop&&tZ(t,!0,n,e)},e=()=>{let e=u.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?t:null),e.gl.xr.isPresenting||tY(e)},n={connect(){let t=u.getState().gl;t.xr.addEventListener("sessionstart",e),t.xr.addEventListener("sessionend",e)},disconnect(){let t=u.getState().gl;t.xr.removeEventListener("sessionstart",e),t.xr.removeEventListener("sessionend",e)}};"function"==typeof(null==(i=T.xr)?void 0:i.addEventListener)&&n.connect(),j.set({xr:n})}if(T.shadowMap){let t=T.shadowMap.enabled,e=T.shadowMap.type;if(T.shadowMap.enabled=!!g,H.boo(g))T.shadowMap.type=l.Wk7;else if(H.str(g)){let t={basic:l.bTm,percentage:l.QP0,soft:l.Wk7,variance:l.RyA};T.shadowMap.type=null!=(o=t[g])?o:l.Wk7}else H.obj(g)&&Object.assign(T.shadowMap,g);(t!==T.shadowMap.enabled||e!==T.shadowMap.type)&&(T.shadowMap.needsUpdate=!0)}return l.ppV.enabled=!E,h||(T.outputColorSpace=y?l.Zr2:l.er$,T.toneMapping=b?l.y_p:l.FV),j.legacy!==E&&j.set(()=>({legacy:E})),j.linear!==y&&j.set(()=>({linear:y})),j.flat!==b&&j.set(()=>({flat:b})),!c||H.fun(c)||to(c)||H.equ(c,T,tC)||J(T,c),e=v,h=!0,a(),this},render(n){return h||d||this.configure(),d.then(()=>{tF.updateContainer((0,T.jsx)(tR,{store:u,children:n,onCreated:e,rootElement:t}),c,null,()=>void 0)}),u},unmount(){tN(t)}}}function tR({store:t,children:e,onCreated:n,rootElement:r}){return z(()=>{let e=t.getState();e.set(t=>({internal:{...t.internal,active:!0}})),n&&n(e),t.getState().events.connected||null==e.events.connect||e.events.connect(r)},[]),(0,T.jsx)(ta.Provider,{value:t,children:e})}function tN(t,e){let n=tI.get(t),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),tF.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,o,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(t){for(let e in"Scene"!==t.type&&(null==t.dispose||t.dispose()),t){let n=t[e];(null==n?void 0:n.type)!=="Scene"&&(null==n||null==n.dispose||n.dispose())}}(i.scene),tI.delete(t),e&&e(t)}catch(t){}},500)})}}let tL=new Set,tU=new Set,tD=new Set;function tB(t,e){if(t.size)for(let{callback:n}of t.values())n(e)}function tH(t,e){switch(t){case"before":return tB(tL,e);case"after":return tB(tU,e);case"tail":return tB(tD,e)}}function tq(t,e,n){let o=e.clock.getDelta();"never"===e.frameloop&&"number"==typeof t&&(o=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),r=e.internal.subscribers;for(let t=0;t<r.length;t++)(i=r[t]).ref.current(i.store.getState(),o,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),"always"===e.frameloop?1:e.internal.frames}let tV=!1,tW=!1;function tG(t){for(let n of(a=requestAnimationFrame(tG),tV=!0,o=0,tH("before",t),tW=!0,tI.values())){var e;(u=n.store.getState()).internal.active&&("always"===u.frameloop||u.internal.frames>0)&&!(null!=(e=u.gl.xr)&&e.isPresenting)&&(o+=tq(t,u))}if(tW=!1,tH("after",t),0===o)return tH("tail",t),tV=!1,cancelAnimationFrame(a)}function tY(t,e=1){var n;if(!t)return tI.forEach(t=>tY(t.store.getState(),e));null!=(n=t.gl.xr)&&n.isPresenting||!t.internal.active||"never"===t.frameloop||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):tW?t.internal.frames=2:t.internal.frames=1,tV||(tV=!0,requestAnimationFrame(tG)))}function tZ(t,e=!0,n,r){if(e&&tH("before",t),n)tq(t,n,r);else for(let e of tI.values())tq(t,e.store.getState());e&&tH("after",t)}let tX={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function t$(t){let{handlePointer:e}=function(t){function e(t){return t.filter(t=>["Move","Over","Enter","Out","Leave"].some(e=>{var n;return null==(n=t.__r3f)?void 0:n.handlers["onPointer"+e]}))}function n(e){let{internal:n}=t.getState();for(let t of n.hovered.values())if(!e.length||!e.find(e=>e.object===t.object&&e.index===t.index&&e.instanceId===t.instanceId)){let r=t.eventObject.__r3f;if(n.hovered.delete(tr(t)),null!=r&&r.eventCount){let n=r.handlers,i={...t,intersections:e};null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(t,e){for(let n=0;n<e.length;n++){let r=e[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(t)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return e=>{let{internal:r}=t.getState();"pointerId"in e&&r.capturedMap.has(e.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(e.pointerId)&&(r.capturedMap.delete(e.pointerId),n([]))})}}return function(o){let{onPointerMissed:a,internal:u}=t.getState();u.lastEvent.current=o;let s="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(e,n){let r=t.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let t=0;t<a.length;t++){let e=B(a[t]);e&&(e.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(e,r);let u=a.flatMap(function(t){let n=B(t);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(e,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(t,!0):[]}).sort((t,e)=>{let n=B(t.object),r=B(e.object);return n&&r&&r.events.priority-n.events.priority||t.distance-e.distance}).filter(t=>{let e=tr(t);return!i.has(e)&&(i.add(e),!0)});for(let t of(r.events.filter&&(u=r.events.filter(u,r)),u)){let e=t.object;for(;e;){var l;null!=(l=e.__r3f)&&l.eventCount&&o.push({...t,eventObject:e}),e=e.parent}}if("pointerId"in e&&r.internal.capturedMap.has(e.pointerId))for(let t of r.internal.capturedMap.get(e.pointerId).values())i.has(tr(t.intersection))||o.push(t.intersection);return o}(o,s?e:void 0),h=c?function(e){let{internal:n}=t.getState(),r=e.offsetX-n.initialClick[0],i=e.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(u.initialClick=[o.offsetX,o.offsetY],u.initialHits=f.map(t=>t.eventObject)),c&&!f.length&&h<=2&&(r(o,u.interaction),a&&a(o)),s&&n(f),!function(t,e,r,i){if(t.length){let o={stopped:!1};for(let a of t){let u=B(a.object);if(u||a.object.traverseAncestors(t=>{let e=B(t);if(e)return u=e,!1}),u){let{raycaster:s,pointer:c,camera:f,internal:h}=u,d=new l.Pq0(c.x,c.y,0).unproject(f),p=t=>{var e,n;return null!=(e=null==(n=h.capturedMap.get(t))?void 0:n.has(a.eventObject))&&e},m=t=>{let n={intersection:a,target:e.target};h.capturedMap.has(t)?h.capturedMap.get(t).set(a.eventObject,n):h.capturedMap.set(t,new Map([[a.eventObject,n]])),e.target.setPointerCapture(t)},v=t=>{let e=h.capturedMap.get(t);e&&ti(h.capturedMap,a.eventObject,e,t)},g={};for(let t in e){let n=e[t];"function"!=typeof n&&(g[t]=n)}let y={...a,...g,pointer:c,intersections:t,stopped:o.stopped,delta:r,unprojectedPoint:d,ray:s.ray,camera:f,stopPropagation(){let r="pointerId"in e&&h.capturedMap.get(e.pointerId);(!r||r.has(a.eventObject))&&(y.stopped=o.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find(t=>t.eventObject===a.eventObject)&&n([...t.slice(0,t.indexOf(a)),a]))},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:v},nativeEvent:e};if(i(y),!0===o.stopped)break}}}}(f,o,h,function(t){let e=t.eventObject,n=e.__r3f;if(!(null!=n&&n.eventCount))return;let a=n.handlers;if(s){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let e=tr(t),n=u.hovered.get(e);n?n.stopped&&t.stopPropagation():(u.hovered.set(e,t),null==a.onPointerOver||a.onPointerOver(t),null==a.onPointerEnter||a.onPointerEnter(t))}null==a.onPointerMove||a.onPointerMove(t)}else{let n=a[i];n?(!c||u.initialHits.includes(e))&&(r(o,u.interaction.filter(t=>!u.initialHits.includes(t))),n(t)):c&&u.initialHits.includes(e)&&r(o,u.interaction.filter(t=>!u.initialHits.includes(t)))}})}}}}(t);return{priority:1,enabled:!0,compute(t,e,n){e.pointer.set(t.offsetX/e.size.width*2-1,-(2*(t.offsetY/e.size.height))+1),e.raycaster.setFromCamera(e.pointer,e.camera)},connected:void 0,handlers:Object.keys(tX).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var e;let{events:n,internal:r}=t.getState();null!=(e=r.lastEvent)&&e.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:e=>{let{set:n,events:r}=t.getState();if(null==r.disconnect||r.disconnect(),n(t=>({events:{...t.events,connected:e}})),r.handlers)for(let t in r.handlers){let n=r.handlers[t],[i,o]=tX[t];e.addEventListener(i,n,{passive:o})}},disconnect:()=>{let{set:e,events:n}=t.getState();if(n.connected){if(n.handlers)for(let t in n.handlers){let e=n.handlers[t],[r]=tX[t];n.connected.removeEventListener(r,e)}e(t=>({events:{...t.events,connected:void 0}}))}}}}},77317:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=n(25479);class i extends r.n{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(t){let e=t.length-3,n=new Float32Array(2*e);for(let r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setPositions(n),this}setColors(t){let e=t.length-3,n=new Float32Array(2*e);for(let r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setColors(n),this}setFromPoints(t){let e=t.length-1,n=new Float32Array(6*e);for(let r=0;r<e;r++)n[6*r]=t[r].x,n[6*r+1]=t[r].y,n[6*r+2]=t[r].z||0,n[6*r+3]=t[r+1].x,n[6*r+4]=t[r+1].y,n[6*r+5]=t[r+1].z||0;return super.setPositions(n),this}fromLine(t){let e=t.geometry;return this.setPositions(e.attributes.position.array),this}}},77319:(t,e)=>{"use strict";function n(t,e){var n=t.length;for(t.push(e);0<n;){var r=n-1>>>1,i=t[r];if(0<o(i,e))t[r]=e,t[n]=i,n=r;else break}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;for(var r=0,i=t.length,a=i>>>1;r<a;){var u=2*(r+1)-1,l=t[u],s=u+1,c=t[s];if(0>o(l,n))s<i&&0>o(c,l)?(t[r]=c,t[s]=n,r=s):(t[r]=l,t[u]=n,r=u);else if(s<i&&0>o(c,n))t[r]=c,t[s]=n,r=s;else break}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,u=performance;e.unstable_now=function(){return u.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var c=[],f=[],h=1,d=null,p=3,m=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var e=r(f);null!==e;){if(null===e.callback)i(f);else if(e.startTime<=t)i(f),e.sortIndex=e.expirationTime,n(c,e);else break;e=r(f)}}function x(t){if(g=!1,_(t),!v){if(null!==r(c))v=!0,k();else{var e=r(f);null!==e&&F(x,e.startTime-t)}}}var w=!1,S=-1,M=5,A=-1;function P(){return!(e.unstable_now()-A<M)}function j(){if(w){var t=e.unstable_now();A=t;var n=!0;try{t:{v=!1,g&&(g=!1,b(S),S=-1),m=!0;var o=p;try{e:{for(_(t),d=r(c);null!==d&&!(d.expirationTime>t&&P());){var u=d.callback;if("function"==typeof u){d.callback=null,p=d.priorityLevel;var l=u(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,_(t),n=!0;break e}d===r(c)&&i(c),_(t)}else i(c);d=r(c)}if(null!==d)n=!0;else{var s=r(f);null!==s&&F(x,s.startTime-t),n=!1}}break t}finally{d=null,p=o,m=!1}n=void 0}}finally{n?a():w=!1}}}if("function"==typeof E)a=function(){E(j)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,O=T.port2;T.port1.onmessage=j,a=function(){O.postMessage(null)}}else a=function(){y(j,0)};function k(){w||(w=!0,a())}function F(t,n){S=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,k())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=0x3fffffff;break;case 4:u=1e4;break;default:u=5e3}return u=o+u,t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:u,sortIndex:-1},o>a?(t.sortIndex=o,n(f,t),null===r(c)&&t===r(f)&&(g?(b(S),S=-1):g=!0,F(x,o-a))):(t.sortIndex=u,n(c,t),v||m||(v=!0,k())),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},79634:(t,e,n)=>{"use strict";n.d(e,{F8e:()=>d,FZF:()=>a,Fn:()=>i,IGN:()=>m,If:()=>o,PiW:()=>v,RZD:()=>p,cGD:()=>f,fVC:()=>c,gnS:()=>l,oNF:()=>s,qRo:()=>u,zed:()=>h});var r=n(891);r.uuE.BRDF_GGX,r.uuE.BRDF_Lambert,r.uuE.BasicShadowFilter,r.uuE.Break,r.uuE.Continue,r.uuE.DFGApprox,r.uuE.D_GGX,r.uuE.Discard,r.uuE.EPSILON,r.uuE.F_Schlick;let i=r.uuE.Fn;r.uuE.INFINITY;let o=r.uuE.If,a=r.uuE.Loop;r.uuE.NodeShaderStage,r.uuE.NodeType,r.uuE.NodeUpdateType,r.uuE.NodeAccess,r.uuE.PCFShadowFilter,r.uuE.PCFSoftShadowFilter,r.uuE.PI,r.uuE.PI2,r.uuE.Return,r.uuE.Schlick_to_F0,r.uuE.ScriptableNodeResources,r.uuE.ShaderNode,r.uuE.TBNViewMatrix,r.uuE.VSMShadowFilter,r.uuE.V_GGX_SmithCorrelated,r.uuE.abs,r.uuE.acesFilmicToneMapping,r.uuE.acos,r.uuE.add,r.uuE.addNodeElement,r.uuE.agxToneMapping,r.uuE.all,r.uuE.alphaT,r.uuE.and,r.uuE.anisotropy,r.uuE.anisotropyB,r.uuE.anisotropyT,r.uuE.any,r.uuE.append,r.uuE.array,r.uuE.arrayBuffer;let u=r.uuE.asin;r.uuE.assign,r.uuE.atan,r.uuE.atan2,r.uuE.atomicAdd,r.uuE.atomicAnd,r.uuE.atomicFunc,r.uuE.atomicMax,r.uuE.atomicMin,r.uuE.atomicOr,r.uuE.atomicStore,r.uuE.atomicSub,r.uuE.atomicXor,r.uuE.atomicLoad,r.uuE.attenuationColor,r.uuE.attenuationDistance,r.uuE.attribute,r.uuE.attributeArray,r.uuE.backgroundBlurriness,r.uuE.backgroundIntensity,r.uuE.backgroundRotation,r.uuE.batch,r.uuE.billboarding,r.uuE.bitAnd,r.uuE.bitNot,r.uuE.bitOr,r.uuE.bitXor,r.uuE.bitangentGeometry,r.uuE.bitangentLocal,r.uuE.bitangentView,r.uuE.bitangentWorld,r.uuE.bitcast,r.uuE.blendBurn,r.uuE.blendColor,r.uuE.blendDodge,r.uuE.blendOverlay,r.uuE.blendScreen,r.uuE.blur,r.uuE.bool,r.uuE.buffer,r.uuE.bufferAttribute,r.uuE.bumpMap,r.uuE.burn,r.uuE.bvec2,r.uuE.bvec3,r.uuE.bvec4,r.uuE.bypass,r.uuE.cache,r.uuE.call,r.uuE.cameraFar,r.uuE.cameraIndex,r.uuE.cameraNear,r.uuE.cameraNormalMatrix,r.uuE.cameraPosition,r.uuE.cameraProjectionMatrix,r.uuE.cameraProjectionMatrixInverse,r.uuE.cameraViewMatrix,r.uuE.cameraWorldMatrix,r.uuE.cbrt,r.uuE.cdl,r.uuE.ceil,r.uuE.checker,r.uuE.cineonToneMapping,r.uuE.clamp,r.uuE.clearcoat,r.uuE.clearcoatRoughness,r.uuE.code,r.uuE.color,r.uuE.colorSpaceToWorking,r.uuE.colorToDirection,r.uuE.compute,r.uuE.computeSkinning,r.uuE.cond,r.uuE.Const,r.uuE.context,r.uuE.convert,r.uuE.convertColorSpace,r.uuE.convertToTexture;let l=r.uuE.cos;r.uuE.cross,r.uuE.cubeTexture,r.uuE.dFdx,r.uuE.dFdy,r.uuE.dashSize,r.uuE.debug,r.uuE.defaultBuildStages,r.uuE.defaultShaderStages,r.uuE.defined,r.uuE.degrees,r.uuE.deltaTime,r.uuE.densityFog,r.uuE.densityFogFactor,r.uuE.depth,r.uuE.depthPass,r.uuE.difference,r.uuE.diffuseColor,r.uuE.directPointLight,r.uuE.directionToColor,r.uuE.dispersion,r.uuE.distance,r.uuE.div,r.uuE.dodge,r.uuE.dot,r.uuE.drawIndex,r.uuE.dynamicBufferAttribute,r.uuE.element,r.uuE.emissive,r.uuE.equal,r.uuE.equals,r.uuE.equirectUV;let s=r.uuE.exp;r.uuE.exp2,r.uuE.expression,r.uuE.faceDirection,r.uuE.faceForward,r.uuE.faceforward;let c=r.uuE.float;r.uuE.floor,r.uuE.fog,r.uuE.fract,r.uuE.frameGroup,r.uuE.frameId,r.uuE.frontFacing,r.uuE.fwidth,r.uuE.gain,r.uuE.gapSize,r.uuE.getConstNodeType,r.uuE.getCurrentStack,r.uuE.getDirection,r.uuE.getDistanceAttenuation,r.uuE.getGeometryRoughness,r.uuE.getNormalFromDepth,r.uuE.getParallaxCorrectNormal,r.uuE.getRoughness,r.uuE.getScreenPosition,r.uuE.getShIrradianceAt,r.uuE.getTextureIndex,r.uuE.getViewPosition,r.uuE.glsl,r.uuE.glslFn,r.uuE.grayscale,r.uuE.greaterThan,r.uuE.greaterThanEqual,r.uuE.hash,r.uuE.highpModelNormalViewMatrix,r.uuE.highpModelViewMatrix,r.uuE.hue,r.uuE.instance;let f=r.uuE.instanceIndex;r.uuE.instancedArray,r.uuE.instancedBufferAttribute,r.uuE.instancedDynamicBufferAttribute,r.uuE.instancedMesh,r.uuE.int,r.uuE.inverseSqrt,r.uuE.inversesqrt,r.uuE.invocationLocalIndex,r.uuE.invocationSubgroupIndex,r.uuE.ior,r.uuE.iridescence,r.uuE.iridescenceIOR,r.uuE.iridescenceThickness,r.uuE.ivec2,r.uuE.ivec3,r.uuE.ivec4,r.uuE.js,r.uuE.label,r.uuE.length,r.uuE.lengthSq,r.uuE.lessThan,r.uuE.lessThanEqual,r.uuE.lightPosition,r.uuE.lightTargetDirection,r.uuE.lightTargetPosition,r.uuE.lightViewPosition,r.uuE.lightingContext,r.uuE.lights,r.uuE.linearDepth,r.uuE.linearToneMapping,r.uuE.localId,r.uuE.globalId,r.uuE.log,r.uuE.log2,r.uuE.logarithmicDepthToViewZ,r.uuE.loop,r.uuE.luminance,r.uuE.mediumpModelViewMatrix,r.uuE.mat2,r.uuE.mat3,r.uuE.mat4,r.uuE.matcapUV,r.uuE.materialAO,r.uuE.materialAlphaTest,r.uuE.materialAnisotropy,r.uuE.materialAnisotropyVector,r.uuE.materialAttenuationColor,r.uuE.materialAttenuationDistance,r.uuE.materialClearcoat,r.uuE.materialClearcoatNormal,r.uuE.materialClearcoatRoughness,r.uuE.materialColor,r.uuE.materialDispersion,r.uuE.materialEmissive,r.uuE.materialIOR,r.uuE.materialIridescence,r.uuE.materialIridescenceIOR,r.uuE.materialIridescenceThickness,r.uuE.materialLightMap,r.uuE.materialLineDashOffset,r.uuE.materialLineDashSize,r.uuE.materialLineGapSize,r.uuE.materialLineScale,r.uuE.materialLineWidth,r.uuE.materialMetalness,r.uuE.materialNormal,r.uuE.materialOpacity,r.uuE.materialPointSize,r.uuE.materialReference,r.uuE.materialReflectivity,r.uuE.materialRefractionRatio,r.uuE.materialRotation,r.uuE.materialRoughness,r.uuE.materialSheen,r.uuE.materialSheenRoughness,r.uuE.materialShininess,r.uuE.materialSpecular,r.uuE.materialSpecularColor,r.uuE.materialSpecularIntensity,r.uuE.materialSpecularStrength,r.uuE.materialThickness,r.uuE.materialTransmission,r.uuE.max,r.uuE.maxMipLevel,r.uuE.metalness,r.uuE.min,r.uuE.mix,r.uuE.mixElement,r.uuE.mod,r.uuE.modInt,r.uuE.modelDirection,r.uuE.modelNormalMatrix,r.uuE.modelPosition,r.uuE.modelRadius,r.uuE.modelScale,r.uuE.modelViewMatrix,r.uuE.modelViewPosition,r.uuE.modelViewProjection,r.uuE.modelWorldMatrix,r.uuE.modelWorldMatrixInverse,r.uuE.morphReference,r.uuE.mrt,r.uuE.mul,r.uuE.mx_aastep,r.uuE.mx_cell_noise_float,r.uuE.mx_contrast,r.uuE.mx_fractal_noise_float,r.uuE.mx_fractal_noise_vec2,r.uuE.mx_fractal_noise_vec3,r.uuE.mx_fractal_noise_vec4,r.uuE.mx_hsvtorgb,r.uuE.mx_noise_float,r.uuE.mx_noise_vec3,r.uuE.mx_noise_vec4,r.uuE.mx_ramplr,r.uuE.mx_ramptb,r.uuE.mx_rgbtohsv,r.uuE.mx_safepower,r.uuE.mx_splitlr,r.uuE.mx_splittb,r.uuE.mx_srgb_texture_to_lin_rec709,r.uuE.mx_transform_uv,r.uuE.mx_worley_noise_float,r.uuE.mx_worley_noise_vec2,r.uuE.mx_worley_noise_vec3;let h=r.uuE.negate;r.uuE.neutralToneMapping,r.uuE.nodeArray,r.uuE.nodeImmutable,r.uuE.nodeObject,r.uuE.nodeObjects,r.uuE.nodeProxy,r.uuE.normalFlat,r.uuE.normalGeometry,r.uuE.normalLocal,r.uuE.normalMap,r.uuE.normalView,r.uuE.normalWorld,r.uuE.normalize,r.uuE.not,r.uuE.notEqual,r.uuE.numWorkgroups,r.uuE.objectDirection,r.uuE.objectGroup,r.uuE.objectPosition,r.uuE.objectRadius,r.uuE.objectScale,r.uuE.objectViewPosition,r.uuE.objectWorldMatrix,r.uuE.oneMinus,r.uuE.or,r.uuE.orthographicDepthToViewZ,r.uuE.oscSawtooth,r.uuE.oscSine,r.uuE.oscSquare,r.uuE.oscTriangle,r.uuE.output,r.uuE.outputStruct,r.uuE.overlay,r.uuE.overloadingFn,r.uuE.parabola,r.uuE.parallaxDirection,r.uuE.parallaxUV,r.uuE.parameter,r.uuE.pass,r.uuE.passTexture,r.uuE.pcurve,r.uuE.perspectiveDepthToViewZ,r.uuE.pmremTexture,r.uuE.pointUV,r.uuE.pointWidth,r.uuE.positionGeometry,r.uuE.positionLocal,r.uuE.positionPrevious,r.uuE.positionView,r.uuE.positionViewDirection,r.uuE.positionWorld,r.uuE.positionWorldDirection,r.uuE.posterize,r.uuE.pow,r.uuE.pow2,r.uuE.pow3,r.uuE.pow4,r.uuE.property,r.uuE.radians,r.uuE.rand,r.uuE.range,r.uuE.rangeFog,r.uuE.rangeFogFactor,r.uuE.reciprocal,r.uuE.lightProjectionUV,r.uuE.reference,r.uuE.referenceBuffer,r.uuE.reflect,r.uuE.reflectVector,r.uuE.reflectView,r.uuE.reflector,r.uuE.refract,r.uuE.refractVector,r.uuE.refractView,r.uuE.reinhardToneMapping,r.uuE.remainder,r.uuE.remap,r.uuE.remapClamp,r.uuE.renderGroup,r.uuE.renderOutput,r.uuE.rendererReference,r.uuE.rotate,r.uuE.rotateUV,r.uuE.roughness,r.uuE.round,r.uuE.rtt,r.uuE.sRGBTransferEOTF,r.uuE.sRGBTransferOETF,r.uuE.sampler,r.uuE.samplerComparison,r.uuE.saturate,r.uuE.saturation,r.uuE.screen,r.uuE.screenCoordinate,r.uuE.screenSize,r.uuE.screenUV,r.uuE.scriptable,r.uuE.scriptableValue,r.uuE.select,r.uuE.setCurrentStack,r.uuE.shaderStages,r.uuE.shadow,r.uuE.pointShadow,r.uuE.shadowPositionWorld,r.uuE.sharedUniformGroup,r.uuE.shapeCircle,r.uuE.sheen,r.uuE.sheenRoughness,r.uuE.shiftLeft,r.uuE.shiftRight,r.uuE.shininess,r.uuE.sign;let d=r.uuE.sin;r.uuE.sinc,r.uuE.skinning,r.uuE.smoothstep,r.uuE.smoothstepElement,r.uuE.specularColor,r.uuE.specularF90,r.uuE.spherizeUV,r.uuE.split,r.uuE.spritesheetUV;let p=r.uuE.sqrt;r.uuE.stack,r.uuE.step;let m=r.uuE.storage;r.uuE.storageBarrier,r.uuE.storageObject,r.uuE.storageTexture,r.uuE.string,r.uuE.struct,r.uuE.sub,r.uuE.subgroupIndex,r.uuE.subgroupSize,r.uuE.tan,r.uuE.tangentGeometry,r.uuE.tangentLocal,r.uuE.tangentView,r.uuE.tangentWorld,r.uuE.temp,r.uuE.texture,r.uuE.texture3D,r.uuE.textureBarrier,r.uuE.textureBicubic,r.uuE.textureCubeUV,r.uuE.textureLoad,r.uuE.textureSize,r.uuE.textureStore,r.uuE.thickness,r.uuE.threshold,r.uuE.time,r.uuE.timerDelta,r.uuE.timerGlobal,r.uuE.timerLocal,r.uuE.toOutputColorSpace,r.uuE.toWorkingColorSpace,r.uuE.toneMapping,r.uuE.toneMappingExposure,r.uuE.toonOutlinePass,r.uuE.transformDirection,r.uuE.transformNormal,r.uuE.transformNormalToView,r.uuE.transformedBentNormalView,r.uuE.transformedBitangentView,r.uuE.transformedBitangentWorld,r.uuE.transformedClearcoatNormalView,r.uuE.transformedNormalView,r.uuE.transformedNormalWorld,r.uuE.transformedTangentView,r.uuE.transformedTangentWorld,r.uuE.transmission,r.uuE.transpose,r.uuE.tri,r.uuE.tri3,r.uuE.triNoise3D,r.uuE.triplanarTexture,r.uuE.triplanarTextures,r.uuE.trunc,r.uuE.tslFn,r.uuE.uint;let v=r.uuE.uniform;r.uuE.uniformArray,r.uuE.uniformGroup,r.uuE.uniforms,r.uuE.userData,r.uuE.uv,r.uuE.uvec2,r.uuE.uvec3,r.uuE.uvec4,r.uuE.Var,r.uuE.varying,r.uuE.varyingProperty,r.uuE.vec2,r.uuE.vec3,r.uuE.vec4,r.uuE.vectorComponents,r.uuE.velocity,r.uuE.vertexColor,r.uuE.vertexIndex,r.uuE.vibrance,r.uuE.viewZToLogarithmicDepth,r.uuE.viewZToOrthographicDepth,r.uuE.viewZToPerspectiveDepth,r.uuE.viewport,r.uuE.viewportBottomLeft,r.uuE.viewportCoordinate,r.uuE.viewportDepthTexture,r.uuE.viewportLinearDepth,r.uuE.viewportMipTexture,r.uuE.viewportResolution,r.uuE.viewportSafeUV,r.uuE.viewportSharedTexture,r.uuE.viewportSize,r.uuE.viewportTexture,r.uuE.viewportTopLeft,r.uuE.viewportUV,r.uuE.wgsl,r.uuE.wgslFn,r.uuE.workgroupArray,r.uuE.workgroupBarrier,r.uuE.workgroupId,r.uuE.workingToColorSpace,r.uuE.xor},84142:(t,e,n)=>{"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}n.d(e,{A:()=>l});var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){a(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e,0)},Polygon:function(t,e){u(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)u(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function a(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function u(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)a(t[n],e,1);e.polygonEnd()}function l(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},88512:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=n(43264);class i extends r.B69{constructor(t=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.I9Y(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof t.element.ownerDocument.defaultView.Element&&null!==t.element.parentNode&&t.element.remove()})})}copy(t,e){return super.copy(t,e),this.element=t.element.cloneNode(!0),this.center=t.center,this}}new r.Pq0,new r.kn4,new r.kn4,new r.Pq0,new r.Pq0},88942:(t,e,n)=>{"use strict";function r(){}n.d(e,{A:()=>r})},89090:(t,e,n)=>{"use strict";function r(t){return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+(t=Math.max(0,Math.min(1,t)))*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}n.d(e,{A:()=>r})},93756:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});var r=n(43264);r.aHM;class i{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){let n=[],i=function(t,e,n){let i=Array.from(t),o=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,u=[],l=0,s=0;for(let t=0;t<i.length;t++){let e=i[t];if("\n"===e)l=0,s-=a;else{let t=function(t,e,n,i,o){let a,u,l,s,c,f,h,d;let p=o.glyphs[t]||o.glyphs["?"];if(!p){console.error('THREE.Font: character "'+t+'" does not exists in font family '+o.familyName+".");return}let m=new r.Ld9;if(p.o){let t=p._cachedOutline||(p._cachedOutline=p.o.split(" "));for(let r=0,o=t.length;r<o;)switch(t[r++]){case"m":a=t[r++]*e+n,u=t[r++]*e+i,m.moveTo(a,u);break;case"l":a=t[r++]*e+n,u=t[r++]*e+i,m.lineTo(a,u);break;case"q":l=t[r++]*e+n,s=t[r++]*e+i,c=t[r++]*e+n,f=t[r++]*e+i,m.quadraticCurveTo(c,f,l,s);break;case"b":l=t[r++]*e+n,s=t[r++]*e+i,c=t[r++]*e+n,f=t[r++]*e+i,h=t[r++]*e+n,d=t[r++]*e+i,m.bezierCurveTo(c,f,h,d,l,s)}}return{offsetX:p.ha*e,path:m}}(e,o,l,s,n);l+=t.offsetX,u.push(t.path)}}return u}(t,e,this.data);for(let t=0,e=i.length;t<e;t++)n.push(...i[t].toShapes());return n}}},95314:(t,e,n)=>{"use strict";n.d(e,{A:()=>K});var r=n(43264);function i(t,e,n,r,i){if(isNaN(e)||isNaN(n)||isNaN(r))return t;var o,a,u,l,s,c,f,h,d,p,m,v,g=t._root,y={data:i},b=t._x0,E=t._y0,_=t._z0,x=t._x1,w=t._y1,S=t._z1;if(!g)return t._root=y,t;for(;g.length;)if((h=e>=(a=(b+x)/2))?b=a:x=a,(d=n>=(u=(E+w)/2))?E=u:w=u,(p=r>=(l=(_+S)/2))?_=l:S=l,o=g,!(g=g[m=p<<2|d<<1|h]))return o[m]=y,t;if(s=+t._x.call(null,g.data),c=+t._y.call(null,g.data),f=+t._z.call(null,g.data),e===s&&n===c&&r===f)return y.next=g,o?o[m]=y:t._root=y,t;do o=o?o[m]=Array(8):t._root=Array(8),(h=e>=(a=(b+x)/2))?b=a:x=a,(d=n>=(u=(E+w)/2))?E=u:w=u,(p=r>=(l=(_+S)/2))?_=l:S=l;while((m=p<<2|d<<1|h)==(v=(f>=l)<<2|(c>=u)<<1|s>=a));return o[v]=g,o[m]=y,t}function o(t,e,n,r,i,o,a){this.node=t,this.x0=e,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}let a=(t,e,n,r,i,o)=>Math.sqrt((t-r)**2+(e-i)**2+(n-o)**2);function u(t){return t[0]}function l(t){return t[1]}function s(t){return t[2]}function c(t,e,n,r){var i=new f(null==e?u:e,null==n?l:n,null==r?s:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function f(t,e,n,r,i,o,a,u,l){this._x=t,this._y=e,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=u,this._z1=l,this._root=void 0}function h(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var d=c.prototype=f.prototype;d.copy=function(){var t,e,n=new f(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=h(r),n;for(t=[{source:r,target:n._root=Array(8)}];r=t.pop();)for(var i=0;i<8;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=Array(8)}):r.target[i]=h(e));return n},d.add=function(t){let e=+this._x.call(null,t),n=+this._y.call(null,t),r=+this._z.call(null,t);return i(this.cover(e,n,r),e,n,r,t)},d.addAll=function(t){Array.isArray(t)||(t=Array.from(t));let e=t.length,n=new Float64Array(e),r=new Float64Array(e),o=new Float64Array(e),a=1/0,u=1/0,l=1/0,s=-1/0,c=-1/0,f=-1/0;for(let i=0,h,d,p,m;i<e;++i)!(isNaN(d=+this._x.call(null,h=t[i]))||isNaN(p=+this._y.call(null,h))||isNaN(m=+this._z.call(null,h)))&&(n[i]=d,r[i]=p,o[i]=m,d<a&&(a=d),d>s&&(s=d),p<u&&(u=p),p>c&&(c=p),m<l&&(l=m),m>f&&(f=m));if(a>s||u>c||l>f)return this;this.cover(a,u,l).cover(s,c,f);for(let a=0;a<e;++a)i(this,n[a],r[a],o[a],t[a]);return this},d.cover=function(t,e,n){if(isNaN(t*=1)||isNaN(e*=1)||isNaN(n*=1))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,u=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(t))+1,u=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1;else{for(var s,c,f=a-r||1,h=this._root;r>t||t>=a||i>e||e>=u||o>n||n>=l;)switch(c=(n<o)<<2|(e<i)<<1|t<r,(s=Array(8))[c]=h,h=s,f*=2,c){case 0:a=r+f,u=i+f,l=o+f;break;case 1:r=a-f,u=i+f,l=o+f;break;case 2:a=r+f,i=u-f,l=o+f;break;case 3:r=a-f,i=u-f,l=o+f;break;case 4:a=r+f,u=i+f,o=l-f;break;case 5:r=a-f,u=i+f,o=l-f;break;case 6:a=r+f,i=u-f,o=l-f;break;case 7:r=a-f,i=u-f,o=l-f}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=u,this._z1=l,this},d.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},d.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},d.find=function(t,e,n,r){var i,a,u,l,s,c,f,h,d,p=this._x0,m=this._y0,v=this._z0,g=this._x1,y=this._y1,b=this._z1,E=[],_=this._root;for(_&&E.push(new o(_,p,m,v,g,y,b)),null==r?r=1/0:(p=t-r,m=e-r,v=n-r,g=t+r,y=e+r,b=n+r,r*=r);h=E.pop();)if((_=h.node)&&!((a=h.x0)>g)&&!((u=h.y0)>y)&&!((l=h.z0)>b)&&!((s=h.x1)<p)&&!((c=h.y1)<m)&&!((f=h.z1)<v)){if(_.length){var x=(a+s)/2,w=(u+c)/2,S=(l+f)/2;E.push(new o(_[7],x,w,S,s,c,f),new o(_[6],a,w,S,x,c,f),new o(_[5],x,u,S,s,w,f),new o(_[4],a,u,S,x,w,f),new o(_[3],x,w,l,s,c,S),new o(_[2],a,w,l,x,c,S),new o(_[1],x,u,l,s,w,S),new o(_[0],a,u,l,x,w,S)),(d=(n>=S)<<2|(e>=w)<<1|t>=x)&&(h=E[E.length-1],E[E.length-1]=E[E.length-1-d],E[E.length-1-d]=h)}else{var M=t-+this._x.call(null,_.data),A=e-+this._y.call(null,_.data),P=n-+this._z.call(null,_.data),j=M*M+A*A+P*P;if(j<r){var T=Math.sqrt(r=j);p=t-T,m=e-T,v=n-T,g=t+T,y=e+T,b=n+T,i=_.data}}}return i},d.findAllWithinRadius=function(t,e,n,r){let i=[],o=t-r,u=e-r,l=n-r,s=t+r,c=e+r,f=n+r;return this.visit((h,d,p,m,v,g,y)=>{if(!h.length)do{let o=h.data;a(t,e,n,this._x(o),this._y(o),this._z(o))<=r&&i.push(o)}while(h=h.next);return d>s||p>c||m>f||v<o||g<u||y<l}),i},d.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t))||isNaN(u=+this._z.call(null,t)))return this;var e,n,r,i,o,a,u,l,s,c,f,h,d,p,m,v=this._root,g=this._x0,y=this._y0,b=this._z0,E=this._x1,_=this._y1,x=this._z1;if(!v)return this;if(v.length)for(;;){if((f=o>=(l=(g+E)/2))?g=l:E=l,(h=a>=(s=(y+_)/2))?y=s:_=s,(d=u>=(c=(b+x)/2))?b=c:x=c,e=v,!(v=v[p=d<<2|h<<1|f]))return this;if(!v.length)break;(e[p+1&7]||e[p+2&7]||e[p+3&7]||e[p+4&7]||e[p+5&7]||e[p+6&7]||e[p+7&7])&&(n=e,m=p)}for(;v.data!==t;)if(r=v,!(v=v.next))return this;return((i=v.next)&&delete v.next,r)?i?r.next=i:delete r.next:e?(i?e[p]=i:delete e[p],(v=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&v===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!v.length&&(n?n[m]=v:this._root=v)):this._root=i,this},d.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},d.root=function(){return this._root},d.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},d.visit=function(t){var e,n,r,i,a,u,l,s,c=[],f=this._root;for(f&&c.push(new o(f,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=c.pop();)if(!t(f=e.node,r=e.x0,i=e.y0,a=e.z0,u=e.x1,l=e.y1,s=e.z1)&&f.length){var h=(r+u)/2,d=(i+l)/2,p=(a+s)/2;(n=f[7])&&c.push(new o(n,h,d,p,u,l,s)),(n=f[6])&&c.push(new o(n,r,d,p,h,l,s)),(n=f[5])&&c.push(new o(n,h,i,p,u,d,s)),(n=f[4])&&c.push(new o(n,r,i,p,h,d,s)),(n=f[3])&&c.push(new o(n,h,d,a,u,l,p)),(n=f[2])&&c.push(new o(n,r,d,a,h,l,p)),(n=f[1])&&c.push(new o(n,h,i,a,u,d,p)),(n=f[0])&&c.push(new o(n,r,i,a,h,d,p))}return this},d.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));e=n.pop();){var i=e.node;if(i.length){var a,u=e.x0,l=e.y0,s=e.z0,c=e.x1,f=e.y1,h=e.z1,d=(u+c)/2,p=(l+f)/2,m=(s+h)/2;(a=i[0])&&n.push(new o(a,u,l,s,d,p,m)),(a=i[1])&&n.push(new o(a,d,l,s,c,p,m)),(a=i[2])&&n.push(new o(a,u,p,s,d,f,m)),(a=i[3])&&n.push(new o(a,d,p,s,c,f,m)),(a=i[4])&&n.push(new o(a,u,l,m,d,p,h)),(a=i[5])&&n.push(new o(a,d,l,m,c,p,h)),(a=i[6])&&n.push(new o(a,u,p,m,d,f,h)),(a=i[7])&&n.push(new o(a,d,p,m,c,f,h))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.z0,e.x1,e.y1,e.z1);return this},d.x=function(t){return arguments.length?(this._x=t,this):this._x},d.y=function(t){return arguments.length?(this._y=t,this):this._y},d.z=function(t){return arguments.length?(this._z=t,this):this._z};var p=n(12858),m=n(27144);function v(t,e){return[t,(0,m.Rm)((0,m.Ml)((m.TW+e)/2))]}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw TypeError("Private element is not present on this object")}function b(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function E(t,e){return t.get(y(t,e))}function _(t,e,n){b(t,e),e.set(t,n)}function x(t,e,n){return t.set(y(t,e),n),n}function w(t,e,n){return(e=T(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M=function(){return!!t})()}function A(t,e){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],l=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e);else for(;!(l=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||O(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function O(t,e){if(t){if("string"==typeof t)return g(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}v.invert=function(t,e){return[t,2*(0,m.rY)((0,m.oN)(e))-m.TW]};var k=function(t){t instanceof Array?t.forEach(k):(t.map&&t.map.dispose(),t.dispose())},F=function(t){t.geometry&&t.geometry.dispose(),t.material&&k(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(F)},I=function(t){if(t&&t.children)for(;t.children.length;){var e=t.children[0];t.remove(e),F(e)}};function C(t,e,n){var r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return{x:n*Math.sin(r)*Math.cos(i),y:n*Math.cos(r),z:n*Math.sin(r)*Math.sin(i)}}function z(t){return t*Math.PI/180}var R=function(t){return 1-(v(0,(.5-t)*Math.PI)[1]/Math.PI+1)/2},N=function(t){return Math.max(0,Math.min(1,R(t)))},L=function(t){return .5-v.invert(0,(2*(1-t)-1)*Math.PI)[1]/Math.PI},U=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,p.A)().domain([1,0]).range([e,n]).clamp(!0),i=(0,p.A)().domain([N(e),N(n)]).range([1,0]).clamp(!0),o=t.array,a=0,u=o.length;a<u;a+=2)o[a+1]=i(N(r(o[a+1])));t.needsUpdate=!0},D=function(t,e,n,r){var i=Math.pow(2,t),o=Math.max(0,Math.min(i-1,Math.floor((n+180)*i/360))),a=(90-r)/180;return e&&(a=Math.max(0,Math.min(1,R(a)))),[o,Math.floor(a*i)]},B=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=[],u=Math.pow(2,t),l=360/u,s=180/u,c=void 0===o?u-1:o,f=n,h=Math.min(u-1,void 0===i?u-1:i);f<=h;f++)for(var d=r,p=Math.min(u-1,c);d<=p;d++){var m=d,v=s;e&&(m=0===d?d:L(d/u)*u,v=((d+1===u?d+1:L((d+1)/u)*u)-m)*180/u);var g=-180+(f+.5)*l,y=90-(180*m/u+v/2),b=v;a.push({x:f,y:d,lng:g,lat:y,latLen:b})}return a},H=new WeakMap,q=new WeakMap,V=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,Z=new WeakMap,X=new WeakMap,$=new WeakSet,K=function(t){var e;function n(t){var e,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.tileUrl,l=a.minLevel,s=a.maxLevel,c=a.mercatorProjection;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n),e=S(e=n),b(i=o=function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,M()?Reflect.construct(e,[],S(this).constructor):e.apply(this,void 0)),$),$.add(i),_(o,H,void 0),_(o,q,void 0),_(o,V,void 0),_(o,W,void 0),_(o,G,{}),_(o,Y,void 0),_(o,Z,void 0),_(o,X,void 0),w(o,"minLevel",void 0),w(o,"maxLevel",void 0),w(o,"thresholds",j(Array(30)).map(function(t,e){return 8/Math.pow(2,e)})),w(o,"curvatureResolution",5),w(o,"tileMargin",0),w(o,"clearTiles",function(){Object.values(E(G,o)).forEach(function(t){t.forEach(function(t){t.obj&&(o.remove(t.obj),I(t.obj),delete t.obj)})}),x(G,o,{})}),x(H,o,t),o.tileUrl=u,x(q,o,void 0===c||c),o.minLevel=void 0===l?0:l,o.maxLevel=void 0===s?17:s,o.level=0,o.add(x(X,o,new r.eaF(new r.Gu$(.99*E(H,o),180,90),new r.V9B({color:0})))),E(X,o).visible=!1,E(X,o).material.polygonOffset=!0,E(X,o).material.polygonOffsetUnits=3,E(X,o).material.polygonOffsetFactor=1,o}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(n,t),e=[{key:"tileUrl",get:function(){return E(V,this)},set:function(t){x(V,this,t),this.updatePov(E(Z,this))}},{key:"level",get:function(){return E(W,this)},set:function(t){var e=this;E(G,this)[t]||y($,this,Q).call(this,t);var n=E(W,this);if(x(W,this,t),t!==n&&void 0!==n){if(E(X,this).visible=t>0,E(G,this)[t].forEach(function(t){return t.obj&&(t.obj.material.depthWrite=!0)}),n<t&&E(G,this)[n].forEach(function(t){return t.obj&&(t.obj.material.depthWrite=!1)}),n>t)for(var r=t+1;r<=n;r++)E(G,this)[r]&&E(G,this)[r].forEach(function(t){t.obj&&(e.remove(t.obj),I(t.obj),delete t.obj)});y($,this,J).call(this)}}},{key:"updatePov",value:function(t){var e,n=this;if(t&&t instanceof r.i7d&&(x(Z,this,t),x(Y,this,function(i){if(!i.hullPnts){var o=360/Math.pow(2,n.level),a=i.lng,u=i.lat,l=i.latLen,s=a-o/2,c=a+o/2,f=u-l/2,h=u+l/2;i.hullPnts=[[u,a],[f,s],[h,s],[f,c],[h,c]].map(function(t){var e=P(t,2);return C(e[0],e[1],E(H,n))}).map(function(t){var e=t.x,n=t.y,i=t.z;return new r.Pq0(e,n,i)})}return e||(e=new r.PPD,t.updateMatrix(),t.updateMatrixWorld(),e.setFromProjectionMatrix(new r.kn4().multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse))),i.hullPnts.some(function(t){return e.containsPoint(t.clone().applyMatrix4(n.matrixWorld))})}),this.tileUrl)){var i=(t.position.clone().distanceTo(this.getWorldPosition(new r.Pq0))-E(H,this))/E(H,this),o=this.thresholds.findIndex(function(t){return t&&t<=i});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,o<0?this.thresholds.length:o)),y($,this,J).call(this)}}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T(r.key),r)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.YJl);function Q(t){var e=this;if(t>7){E(G,this)[t]=[];return}var n=E(G,this)[t]=B(t,E(q,this));n.forEach(function(t){return t.centroid=C(t.lat,t.lng,E(H,e))}),n.octree=c().x(function(t){return t.centroid.x}).y(function(t){return t.centroid.y}).z(function(t){return t.centroid.z}).addAll(n)}function J(){var t=this;if(this.tileUrl&&void 0!==this.level&&E(G,this).hasOwnProperty(this.level)&&(E(Y,this)||!(this.level>6))){var e=E(G,this)[this.level];if(E(Z,this)){var n=this.worldToLocal(E(Z,this).position.clone());if(e.octree){var i,o=this.worldToLocal(E(Z,this).position.clone()),a=(o.length()-E(H,this))*3;e=(i=e.octree).findAllWithinRadius.apply(i,j(o).concat([a]))}else{var u,l,s,c,f,h=(u=n.x,c=Math.sqrt(u*u+(l=n.y)*l+(s=n.z)*s),{lat:90-180*Math.acos(l/c)/Math.PI,lng:90-180*(f=Math.atan2(s,u))/Math.PI-360*(f<-Math.PI/2),r:c}),d=(h.r/E(H,this)-1)*90,p=d/Math.cos(z(h.lat)),m=[h.lng-p,h.lng+p],v=[h.lat+d,h.lat-d],g=P(D(this.level,E(q,this),m[0],v[0]),2),y=g[0],b=g[1],_=P(D(this.level,E(q,this),m[1],v[1]),2),x=_[0],w=_[1];e.record||(e.record={});var S=e.record;if(S.hasOwnProperty("".concat(Math.round((y+x)/2),"_").concat(Math.round((b+w)/2)))){for(var M=[],A=y;A<=x;A++)for(var T=b;T<=w;T++){var O="".concat(A,"_").concat(T);S.hasOwnProperty(O)||(S[O]=B(this.level,E(q,this),A,T,A,T)[0],e.push(S[O])),M.push(S[O])}e=M}else e=B(this.level,E(q,this),y,b,x,w).map(function(t){var n="".concat(t.x,"_").concat(t.y);return S.hasOwnProperty(n)?S[n]:(S[n]=t,e.push(t),t)})}}e.filter(function(t){return!t.obj}).filter(E(Y,this)||function(){return!0}).forEach(function(e){var n=e.x,i=e.y,o=e.lng,a=e.lat,u=e.latLen,l=360/Math.pow(2,t.level);if(!e.obj){var s=l*(1-t.tileMargin),c=u*(1-t.tileMargin),f=z(o),h=z(-a),d=new r.eaF(new r.Gu$(E(H,t),Math.ceil(s/t.curvatureResolution),Math.ceil(c/t.curvatureResolution),z(90-s/2)+f,z(s),z(90-c/2)+h,z(c)),new r.G_z);if(E(q,t)){var p=P([a+u/2,a-u/2].map(function(t){return .5-t/180}),2),m=p[0],v=p[1];U(d.geometry.attributes.uv,m,v)}e.obj=d}e.loading||(e.loading=!0,new r.Tap().load(t.tileUrl(n,i,t.level),function(n){var i=e.obj;i&&(n.colorSpace=r.er$,i.material.map=n,i.material.color=null,i.material.needsUpdate=!0,t.add(i)),e.loading=!1}))})}}},95877:(t,e,n)=>{"use strict";function r(t,e){let n=0;if(void 0===e)for(let e of t)(e*=1)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}n.d(e,{A:()=>r})},95992:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var r=function(t){return"function"==typeof t?t:"string"==typeof t?function(e){return e[t]}:function(e){return t}}},98247:(t,e,n)=>{"use strict";t.exports=n(620)}}]);